{"version":3,"sources":["components/helpers/geojson-path-finder/round-coord.js","components/helpers/geojson-path-finder/compactor.js","components/helpers/geojson-path-finder/dijkstra.js","components/helpers/geojson-path-finder/topology.js","components/helpers/icons/start.svg","components/helpers/icons/finish.svg","components/helpers/icons/business.svg","components/helpers/icons/bicycle.svg","components/helpers/icons/hiking.svg","components/helpers/icons/tent.svg","components/helpers/icons/hut.svg","components/helpers/icons/town.svg","components/helpers/icons/water.svg","components/helpers/icons/attraction.svg","components/helpers/icons/vehicle.svg","redux/actions.js","redux/reducers.js","components/helpers/geojson-path-finder/index.js","components/helpers/geojson-path-finder/preprocessor.js","components/helpers/nearest-point-on-line/main.es.js","components/helpers/PathCalculator.js","components/helpers/iconsData.js","components/PoiMarker.js","components/MapComponent.js","components/ElevationChart.js","components/MapSelect.js","components/DistanceCalculator.js","components/DistanceCalculatorForm.js","components/Markers.js","config.js","components/TerrainSwitch.js","components/Menu.js","components/InfoPopover.js","components/MapParent.js","components/LandingPage.js","components/RouteSwitcher.js","components/Router.js","_registerServiceWorker.js","index.js"],"names":["module","exports","c","precision","Math","round","compactNode","k","vertices","ends","vertexCoords","edgeData","trackIncoming","options","neighbors","Object","keys","reduce","result","j","neighbor","prev","v","weight","reverseWeight","coordinates","path","reducedEdge","edgeDataSeed","edgeDataReduceFn","edges","next","filter","indexOf","push","vertex","findNextEnd","concat","reducedEdges","isNaN","incomingEdges","reverse","incomingCoordinates","compactGraph","progress","es","i","vs","remove","numberEdges","length","other","n","compacted","graph","Queue","require","start","end","costs","queue","a","b","state","pop","cost","node","slice","neighbours","forEach","newCost","newState","explode","roundCoord","isLineString","f","geometry","type","geojson","keyFn","join","lineStrings","fn","features","geoJsonFilterFeatures","cs","fs","rc","geoJsonReduce","seed","k1","k2","properties","__webpack_require__","p","FETCH_DATA_BEGIN","FETCH_DATA_SUCCESS","FETCH_MARKERS_SUCCESS","FETCH_DATA_FAILURE","CALC_DISTANCE","CALC_ELEVATION","STORE_CUSTOM_TRACK","CHANGE_ZOOM_LEVEL","CHANGE_FOCUS_POINT","FIND_TRAIL_MARKERS","FILTER_TRAIL_MARKERS","CHANGE_TERRAIN","SET_START_POINT","SET_END_POINT","STORE_FOCUS_MARKER","SET_CUSTOM_DISTANCE_MARKER","ADD_MAP_MARKER_START","ADD_MAP_MARKER_END","WIPE_MARKERS_AND_PATH","WIPE_MARKERS","ALLOW_CUSTOM_PATH","CHANGE_SIDEBAR_DATA","SET_OPEN_MENUS","OPEN_DISTANCE_TAB","FETCH_MAPS_SUCCESS","fetchOtherMaps","dispatch","fetchDataBegin","fetch","then","handleErrors","res","json","map","el","map_name","Map_name","map_alias","Map_alias","walking","Walking","cycling","Cycling","horseriding","Horseriding","data","fetchMapsSuccess","catch","error","fetchDataError","response","ok","Error","statusText","fetchDataSuccess","initMapInfo","payload","fetchMarkerSuccess","markers","maps","changeZoomLevel","zoomLevel","changeFocusPoint","newLatLng","storeCustomTrack","findTrailMarker","filterTrailMarkers","markerTypes","changeTerrain","terrainKey","setStartPoint","point","setEndPoint","storeFocusMarker","marker","setCustomDistanceMarker","latlng","wipeMarkersAndPath","wipeMarkers","allowCustomPath","bool","changeSideBarData","blurb","default_image","image","setOpenMenus","menuKeys","openDistanceTab","initialState","loadingTrack","loadingMarkers","poiMarkers","distancePoint","mapMarkerTypes","distance","elevation","customDistance","customPath","terrain","zoom","center","filters","startPoint","endPoint","focusMarker","customDistanceMarker","mapMarkerStart","mapMarkerEnd","sideBarImage","sideBarBlurb","openKeys","allMaps","PathFinder","compactedVertices","topo","weightFn","topology","g","edge","props","w","makeEdgeList","concatEdge","startNode","endNode","forward","backward","compact","compactor","sourceVertices","compactedCoordinates","compactedEdges","preprocess","this","_graph","_keyFn","_precision","_options","prototype","findPath","finish","_createPhantom","bind","edgeDatas","eds","undefined","serialize","phantom","_removePhantom","nearestPointOnLine","lines","pt","isObject","closestPt","Infinity","dist","flattenEach","line","coords","getCoords","stop","sectionLength","heightDistance","max","direction","bearing","perpendicularPt1","destination","perpendicularPt2","intersect","lineIntersects","lineString","intersectPt","location","index","closest","geoJsonPath","combine","multiLineString","closestStart","lng","lat","closestFinish","_closest2","_","isEqual","chartData","elevationGain","elevationLoss","absLossOrGain","abs","findDistance","L","Icon","iconUrl","iconSize","Point","className","business","bicycle","campSite","hut","town","water","attraction","vehicle","PoiMarker","_Component","_getPrototypeOf2","_this","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","markerClick","inherits","createClass","key","value","_this2","icon","findIcon","marker_type","info","marker_info","title","marker_title","react_default","createElement","Marker","id","position","marker_lat","marker_lng","onClick","Popup","style","width","lib_default","index_es","faFlag","faFlagCheckered","divider","marginTop","marginBottom","Component","connect","e","MapComponent","markerCounter","checkMarkers","setState","startEnd","addCustomMarker","draggableMarker","target","_latlng","addMapMarkerStart","addMapMarkerEnd","pathAndDistance","map_track","storePath","checkForCustomPath","GeoJSON","elevationChartData","interactive","color","shouldShowMarker","isEmpty","marker_id","onClickMarker","marker_blurb","filterMarkers","validMarkers","includes","components_PoiMarker","_closest","startDistance","endDistance","isMarkersValid","_this$props","terrainURL","Map","zoomControl","ZoomControl","TileLayer","attribution","url","draggable","onDragEnd","map_type","toLowerCase","storeDistance","calcElevation","ElevationChart","drawMarker","event","activePayload","wipeMarker","ResponsiveContainer","height","LineChart","margin","top","right","left","bottom","onMouseMove","onMouseLeave","XAxis","dataKey","Label","offset","Tooltip","labelFormatter","name","formatter","YAxis","allowDecimals","angle","dy","Line","dot","stroke","MapSelect","onMapSelect","window","href","buildChildren","children","label","cascader","onChange","placeholder","charAt","toUpperCase","size","getPopupContainer","document","getElementsByClassName","parentNode","Option","Select","DistanceCalculator","dataSource","onSelect","inputDirty","poi","es_select","showSearch","onInputKeyDown","placeHolder","filterOption","inputValue","option","DistanceCalculatorForm","dataSelect","buttonDisabled","submitDistance","clearPath","marginLeft","components_DistanceCalculator","es_button","disabled","htmlType","card","bordered","tooltip","es_icon","paddingLeft","fontSize","es_switch","checked","toggleCustomPath","toFixed","React","CheckboxGroup","Checkbox","Group","Filters","defaultValue","currentFilters","mapStyles","pretty","TerrainSwitch","terrainSwitch","layer","TerrainSwitch_Option","SubMenu","Menu","Sider","markerid","newFocus","find","parseInt","preventDefault","calculateInfo","pathObj","isButtonDisabled","startEmpty","endEmpty","handleMenuOpen","console","log","menu","onOpenChange","opacity","defaultOpenKeys","mode","theme","paddingTop","components_DistanceCalculatorForm","Markers_Filters","TerrainSwitch_TerrainSwitch","src","marginRight","map_stats","InfoPopover","content","popover","placement","trigger","MapParent","showElevation","elevationChartStatus","mapstring","currentMap","pathname","substring","Default_filters","Id","Map_type","Map_track","startpointlat","Startpointlat","startpointlng","Startpointlng","map_blurb","Map_blurb","Default_image","Map_stats","zoom_level","Zoom_level","Marker_type","Marker_lat","Marker_lng","Marker_info","Marker_title","Marker_blurb","fetchMarkers","components_MapSelect","components_MapComponent","react_rnd_lib","onResize","ref","delta","objectSpread","components_ElevationChart","InfoPopover_InfoPopover","LandingPage","RouteSwitcher","Switch","Route","exact","component","Router","BrowserRouter","RouteSwitcher_RouteSwitcher","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","store","createStore","action","loading","toConsumableArray","mapMarkers","applyMiddleware","thunk","URL","process","origin","addEventListener","status","headers","get","ready","unregister","reload","checkValidServiceWorker","ReactDOM","render","Router_Router","getElementById"],"mappings":"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","file":"static/js/main.bcd869bc.chunk.js","sourcesContent":["module.exports = function roundCoord(c, precision) {\n    return [\n        Math.round(c[0] / precision) * precision,\n        Math.round(c[1] / precision) * precision,\n    ];\n};\n","'use strict';\n\nmodule.exports = {\n    compactNode: compactNode,\n    compactGraph: compactGraph\n};\n\nfunction findNextEnd(prev, v, vertices, ends, vertexCoords, edgeData, trackIncoming, options) {\n    var weight = vertices[prev][v],\n        reverseWeight = vertices[v][prev],\n        coordinates = [],\n        path = [],\n        reducedEdge = options.edgeDataSeed;\n        \n    if (options.edgeDataReduceFn) {\n        reducedEdge = options.edgeDataReduceFn(reducedEdge, edgeData[v][prev]);\n    }\n\n    while (!ends[v]) {\n        var edges = vertices[v];\n\n        if (!edges) { break; }\n\n        var next = Object.keys(edges).filter(function notPrevious(k) { return k !== prev; })[0];\n        weight += edges[next];\n\n        if (trackIncoming) {\n            reverseWeight += vertices[next][v];\n\n            if (path.indexOf(v) >= 0) {\n                ends[v] = vertices[v];\n                break;\n            }\n            path.push(v);\n        }\n\n        if (options.edgeDataReduceFn) {\n            reducedEdge = options.edgeDataReduceFn(reducedEdge, edgeData[v][next]);\n        }\n\n        coordinates.push(vertexCoords[v]);\n        prev = v;\n        v = next;\n    }\n\n    return {\n        vertex: v,\n        weight: weight,\n        reverseWeight: reverseWeight,\n        coordinates: coordinates,\n        reducedEdge: reducedEdge\n    };\n}\n\nfunction compactNode(k, vertices, ends, vertexCoords, edgeData, trackIncoming, options) {\n    options = options || {};\n    var neighbors = vertices[k];\n    return Object.keys(neighbors).reduce(function compactEdge(result, j) {\n        var neighbor = findNextEnd(k, j, vertices, ends, vertexCoords, edgeData, trackIncoming, options);\n        var weight = neighbor.weight;\n        var reverseWeight = neighbor.reverseWeight;\n        if (neighbor.vertex !== k) {\n            if (!result.edges[neighbor.vertex] || result.edges[neighbor.vertex] > weight) {\n                result.edges[neighbor.vertex] = weight;\n                result.coordinates[neighbor.vertex] = [vertexCoords[k]].concat(neighbor.coordinates);\n                result.reducedEdges[neighbor.vertex] = neighbor.reducedEdge;\n            }\n            if (trackIncoming && \n                !isNaN(reverseWeight) && (!result.incomingEdges[neighbor.vertex] || result.incomingEdges[neighbor.vertex] > reverseWeight)) {\n                result.incomingEdges[neighbor.vertex] = reverseWeight;\n                var coordinates = [vertexCoords[k]].concat(neighbor.coordinates);\n                coordinates.reverse();\n                result.incomingCoordinates[neighbor.vertex] = coordinates;\n            }\n        }\n        return result;\n    }, {edges: {}, incomingEdges: {}, coordinates: {}, incomingCoordinates: {}, reducedEdges: {}});\n}\n\nfunction compactGraph(vertices, vertexCoords, edgeData, options) {\n    options = options || {};\n    var progress = options.progress;\n    var ends = Object.keys(vertices).reduce(function findEnds(es, k, i, vs) {\n        var vertex = vertices[k];\n        var edges = Object.keys(vertex);\n        var numberEdges = edges.length;\n        var remove;\n\n        if (numberEdges === 1) {\n            var other = vertices[edges[0]];\n            remove = !other[k];\n        } else if (numberEdges === 2) {\n            remove = edges.filter(function(n) {\n                return vertices[n][k];\n            }).length === numberEdges;\n        } else {\n            remove = false;\n        }\n\n        if (!remove) {\n            es[k] = vertex;\n        }\n\n        if (i % 1000 === 0 && progress) {\n            progress('compact:ends', i, vs.length);\n        }\n\n        return es;\n    }, {});\n\n    return Object.keys(ends).reduce(function compactEnd(result, k, i, es) {\n        var compacted = compactNode(k, vertices, ends, vertexCoords, edgeData, false, options);\n        result.graph[k] = compacted.edges;\n        result.coordinates[k] = compacted.coordinates;\n\n        if (options.edgeDataReduceFn) {\n            result.reducedEdges[k] = compacted.reducedEdges;\n        }\n\n        if (i % 1000 === 0 && progress) {\n            progress('compact:nodes', i, es.length);\n        }\n\n        return result;\n    }, {graph: {}, coordinates: {}, reducedEdges: {}});\n};\n","var Queue = require('tinyqueue');\n\nmodule.exports = function(graph, start, end) {\n    var costs = {};\n    costs[start] = 0;\n    var initialState = [0, [start], start];\n    var queue = new Queue([initialState], function(a, b) { return a[0] - b[0]; });\n    var explored = {};\n\n    while (queue.length) {\n        var state = queue.pop();\n        var cost = state[0];\n        var node = state[2];\n        if (node === end) {\n            return state.slice(0, 2);\n        }\n\n        var neighbours = graph[node];\n        Object.keys(neighbours).forEach(function(n) {\n            var newCost = cost + neighbours[n];\n            if (!(n in costs) || newCost < costs[n]) {\n                costs[n] = newCost;\n                var newState = [newCost, state[1].concat([n]), n];\n                queue.push(newState);\n            }\n        });\n    }\n\n    return null;\n}","'use strict';\n\nvar explode = require('@turf/explode'),\n    roundCoord = require('./round-coord');\n\nmodule.exports = topology;\n\nfunction geoJsonReduce(geojson, fn, seed) {\n    if (geojson.type === 'FeatureCollection') {\n        return geojson.features.reduce(function reduceFeatures(a, f) {\n            return geoJsonReduce(f, fn, a);\n        }, seed);\n    } else {\n        return fn(seed, geojson);\n    }\n}\n\nfunction geoJsonFilterFeatures(geojson, fn) {\n    var features = [];\n    if (geojson.type === 'FeatureCollection') {\n        features = features.concat(geojson.features.filter(fn));\n    }\n\n    return {\n        type: 'FeatureCollection',\n        features: features\n    };\n}\n\nfunction isLineString(f) {\n    return f.geometry.type === 'LineString';\n}\n\nfunction topology(geojson, options) {\n    options = options || {};\n    var keyFn = options.keyFn || function defaultKeyFn(c) {\n            return c.join(',');\n        },\n        precision = options.precision || 1e-5;\n\n    var lineStrings = geoJsonFilterFeatures(geojson, isLineString);\n    var explodedLineStrings = explode(lineStrings);\n    var vertices = explodedLineStrings.features.reduce(function buildTopologyVertices(cs, f, i, fs) {\n            var rc = roundCoord(f.geometry.coordinates, precision);\n            cs[keyFn(rc)] = f.geometry.coordinates;\n\n            if (i % 1000 === 0 && options.progress) {\n                options.progress('topo:vertices', i, fs.length);\n            }\n\n            return cs;\n        }, {}),\n        edges = geoJsonReduce(lineStrings, function buildTopologyEdges(es, f, i, fs) {\n            f.geometry.coordinates.forEach(function buildLineStringEdges(c, i, cs) {\n                if (i > 0) {\n                    var k1 = keyFn(roundCoord(cs[i - 1], precision)),\n                        k2 = keyFn(roundCoord(c, precision));\n                    es.push([k1, k2, f.properties]);\n                }\n            });\n\n            if (i % 1000 === 0 && options.progress) {\n                options.progress('topo:edges', i, fs.length);\n            }\n\n            return es;\n        }, []);\n\n    return {\n        vertices: vertices,\n        edges: edges\n    };\n}\n","module.exports = __webpack_public_path__ + \"static/media/start.2b3a6e15.svg\";","module.exports = __webpack_public_path__ + \"static/media/finish.b336a83d.svg\";","module.exports = __webpack_public_path__ + \"static/media/business.e87899ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/bicycle.971f6a4f.svg\";","module.exports = __webpack_public_path__ + \"static/media/hiking.eb071ea3.svg\";","module.exports = __webpack_public_path__ + \"static/media/tent.051bcc3a.svg\";","module.exports = __webpack_public_path__ + \"static/media/hut.4687401e.svg\";","module.exports = __webpack_public_path__ + \"static/media/town.1b07dea6.svg\";","module.exports = __webpack_public_path__ + \"static/media/water.1006b328.svg\";","module.exports = __webpack_public_path__ + \"static/media/attraction.cb8356bf.svg\";","module.exports = __webpack_public_path__ + \"static/media/vehicle.10d97375.svg\";","export const FETCH_DATA_BEGIN = \"FETCH_PRODUCTS_BEGIN\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_PRODUCTS_SUCCESS\";\nexport const FETCH_MARKERS_SUCCESS = \"FETCH_MARKERS_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_PRODUCTS_FAILURE\";\nexport const CALC_DISTANCE = \"CALC_DISTANCE\";\nexport const CALC_ELEVATION = \"CALC_ELEVATION\";\nexport const STORE_CUSTOM_TRACK = \"STORE_CUSTOM_TRACK\";\nexport const CHANGE_ZOOM_LEVEL = \"CHANGE_ZOOM_LEVEL\";\nexport const CHANGE_FOCUS_POINT = \"CHANGE_FOCUS_POINT\";\nexport const FIND_TRAIL_MARKERS = \"FIND_TRAIL_MARKERS\";\nexport const FILTER_TRAIL_MARKERS = \"FILTER_TRAIL_MARKERS\";\nexport const CHANGE_TERRAIN = \"CHANGE_TERRAIN\";\nexport const SET_START_POINT = \"SET_START_POINT\";\nexport const SET_END_POINT = \"SET_END_POINT\";\nexport const STORE_FOCUS_MARKER = \"STORE_FOCUS_MARKER\";\nexport const SET_CUSTOM_DISTANCE_MARKER = \"SET_CUSTOM_DISTANCE_MARKER\";\nexport const ADD_MAP_MARKER_START = \"ADD_MAP_MARKER_START\";\nexport const ADD_MAP_MARKER_END = \"ADD_MAP_MARKER_END\";\nexport const WIPE_MARKERS_AND_PATH = \"WIPE_MARKERS_AND_PATH\";\nexport const WIPE_MARKERS = \"WIPE_MARKERS\";\nexport const ALLOW_CUSTOM_PATH = \"ALLOW_CUSTOM_PATH\";\nexport const CHANGE_SIDEBAR_DATA = \"CHANGE_SIDEBAR_DATA\";\nexport const SET_OPEN_MENUS = \"SET_OPEN_MENUS\";\nexport const OPEN_DISTANCE_TAB = \"OPEN_DISTANCE_TAB\";\nexport const FETCH_MAPS_SUCCESS = \"FETCH_MAPS_SUCCESS\";\n\n\nexport function fetchData(mapstring) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(\"http://localhost:8082/api/mapinfo/\" + mapstring)\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        const filters = [];\n        json.Default_filters.forEach(filter => filters.push(filter.type));\n        const data = {\n          id: json.Id,\n          map_name: json.Map_name,\n          map_alias: json.Map_alias,\n          map_type: json.Map_type,\n          map_track: json.Map_track,\n          startpointlat: json.Startpointlat,\n          startpointlng: json.Startpointlng,\n          filters: filters,\n          map_blurb: json.Map_blurb,\n          default_image: json.Default_image,\n          map_stats: json.Map_stats,\n          zoom_level: json.Zoom_level,\n          walking: json.Walking,\n          cycling: json.Cycling,\n          horseriding: json.Horseriding\n        };\n        dispatch(changeZoomLevel(data.zoom_level));\n        dispatch(changeSideBarData(data.map_blurb, data.default_image));\n        dispatch(fetchDataSuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchDataError(error)));\n  };\n}\n\nexport function fetchMarkers(mapstring) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(\"http://localhost:8082/api/markers/\" + mapstring)\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        const data = json.map(el => {\n          return {\n            marker_id: el.Id,\n            marker_type: el.Marker_type,\n            marker_lat: el.Marker_lat,\n            marker_lng: el.Marker_lng,\n            marker_info: el.Marker_info,\n            marker_title: el.Marker_title,\n            marker_blurb: el.Marker_blurb,\n            default_image: el.Default_image\n          };\n        });\n        return data;\n      })\n      .then(data => {\n        let mapMarkerTypes = [];\n        data.forEach(marker => {\n          if (!mapMarkerTypes.includes(marker.marker_type)) {\n            mapMarkerTypes.push(marker.marker_type);\n          }\n        });\n        dispatch(findTrailMarker(mapMarkerTypes));\n        dispatch(fetchMarkerSuccess(data));\n      })\n      .catch(error => dispatch(fetchDataError(error)));\n  };\n}\n\nexport function fetchOtherMaps() {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(\"http://localhost:8082/api/maps/getmany\")\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        const data = json.map(el => {\n          return {\n            map_name: el.Map_name,\n            map_alias: el.Map_alias,\n            walking: el.Walking,\n            cycling: el.Cycling,\n            horseriding: el.Horseriding\n          };\n        });\n        return data;\n      })\n      .then(data => {\n        dispatch(fetchMapsSuccess(data));\n      })\n      .catch(error => dispatch(fetchDataError(error)));\n  };\n}\n\n// Handle HTTP errors since fetch won't.\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n\nexport const fetchDataBegin = () => ({\n  type: FETCH_DATA_BEGIN\n});\n\nexport const fetchDataSuccess = initMapInfo => ({\n  type: FETCH_DATA_SUCCESS,\n  payload: { initMapInfo }\n});\n\nexport const fetchMarkerSuccess = markers => ({\n  type: FETCH_MARKERS_SUCCESS,\n  payload: { markers }\n});\n\nexport const fetchMapsSuccess = maps => ({\n  type: FETCH_MAPS_SUCCESS,\n  payload: { maps }\n});\n\nexport const fetchDataError = error => ({\n  type: FETCH_DATA_FAILURE,\n  payload: { error }\n});\n\nexport const addMapMarkerStart = marker => ({\n  type: ADD_MAP_MARKER_START,\n  payload: marker\n});\n\nexport const addMapMarkerEnd = marker => ({\n  type: ADD_MAP_MARKER_END,\n  payload: marker\n});\n\nexport const changeZoomLevel = zoomLevel => ({\n  type: CHANGE_ZOOM_LEVEL,\n  payload: zoomLevel\n});\n\nexport const changeFocusPoint = newLatLng => ({\n  type: CHANGE_FOCUS_POINT,\n  payload: newLatLng\n});\n\nexport const storeDistance = marker => ({\n  type: CALC_DISTANCE,\n  payload: marker\n});\n\nexport const storeElevation = marker => ({\n  type: CALC_ELEVATION,\n  payload: marker\n});\n\nexport const storeCustomTrack = path => ({\n  type: STORE_CUSTOM_TRACK,\n  payload: path\n});\n\nexport const findTrailMarker = data => ({\n  type: FIND_TRAIL_MARKERS,\n  payload: data\n});\n\nexport const filterTrailMarkers = markerTypes => ({\n  type: FILTER_TRAIL_MARKERS,\n  payload: markerTypes\n});\n\nexport const changeTerrain = terrainKey => ({\n  type: CHANGE_TERRAIN,\n  payload: terrainKey\n});\n\nexport const setStartPoint = point => ({\n  type: SET_START_POINT,\n  payload: point\n});\n\nexport const setEndPoint = point => ({\n  type: SET_END_POINT,\n  payload: point\n});\n\nexport const storeFocusMarker = marker => ({\n  type: STORE_FOCUS_MARKER,\n  payload: marker\n});\n\nexport const setCustomDistanceMarker = latlng => ({\n  type: SET_CUSTOM_DISTANCE_MARKER,\n  payload: latlng\n});\n\nexport const wipeMarkersAndPath = () => ({\n  type: WIPE_MARKERS_AND_PATH\n});\n\nexport const wipeMarkers = () => ({\n  type: WIPE_MARKERS\n});\n\nexport const allowCustomPath = bool => ({\n  type: ALLOW_CUSTOM_PATH,\n  payload: bool\n});\n\nexport const changeSideBarData = (blurb, default_image) => ({\n  type: CHANGE_SIDEBAR_DATA,\n  payload: { blurb: blurb, image: default_image }\n});\n\nexport const setOpenMenus = menuKeys => ({\n  type: SET_OPEN_MENUS,\n  payload: menuKeys\n});\n\nexport const openDistanceTab = () => ({\n  type: OPEN_DISTANCE_TAB\n});\n","import {\n  FETCH_DATA_BEGIN,\n  FETCH_DATA_SUCCESS,\n  FETCH_DATA_FAILURE,\n  FETCH_MARKERS_SUCCESS,\n  CALC_DISTANCE,\n  CALC_ELEVATION,\n  STORE_CUSTOM_TRACK,\n  CHANGE_ZOOM_LEVEL,\n  CHANGE_FOCUS_POINT,\n  FIND_TRAIL_MARKERS,\n  FILTER_TRAIL_MARKERS,\n  CHANGE_TERRAIN,\n  SET_START_POINT,\n  SET_END_POINT,\n  STORE_FOCUS_MARKER,\n  SET_CUSTOM_DISTANCE_MARKER,\n  ADD_MAP_MARKER_START,\n  ADD_MAP_MARKER_END,\n  WIPE_MARKERS_AND_PATH,\n  WIPE_MARKERS,\n  ALLOW_CUSTOM_PATH,\n  CHANGE_SIDEBAR_DATA,\n  SET_OPEN_MENUS,\n  OPEN_DISTANCE_TAB,\n  FETCH_MAPS_SUCCESS\n} from \"./actions\";\nconst initialState = {\n  data: [],\n  loadingTrack: true,\n  loadingMarkers: true,\n  error: null,\n  poiMarkers: [],\n  distancePoint: {},\n  mapMarkerTypes: [],\n  distance: 0,\n  elevation: [],\n  customDistance: [],\n  customPath: {},\n  terrain: \"topo\",\n  zoom: 10,\n  center: 0,\n  filters: [],\n  startPoint: {},\n  endPoint: {},\n  focusMarker: {},\n  customDistanceMarker: [],\n  mapMarkerStart: null,\n  mapMarkerEnd: null,\n  allowCustomPath: false,\n  sideBarImage: null,\n  sideBarBlurb: null,\n  openKeys: [\"menu\", \"sub5\"],\n  allMaps: []\n};\n\nexport default function dataReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_DATA_BEGIN:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n\n    case FETCH_DATA_SUCCESS:\n      return {\n        ...state,\n        loadingTrack: false,\n        data: action.payload.initMapInfo,\n        center: [\n          action.payload.initMapInfo.startpointlat,\n          action.payload.initMapInfo.startpointlng\n        ],\n        filters: action.payload.initMapInfo.filters\n      };\n\n    case FETCH_MARKERS_SUCCESS:\n      return {\n        ...state,\n        loadingMarkers: false,\n        poiMarkers: action.payload.markers\n      };\n\n    case FETCH_MAPS_SUCCESS:\n      return {\n        ...state,\n        loadingMarkers: false,\n        allMaps: action.payload.maps\n      };\n\n    case FETCH_DATA_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload.error,\n        data: []\n      };\n\n    case ADD_MAP_MARKER_START:\n      return {\n        ...state,\n        mapMarkerStart: action.payload\n      };\n\n    case ADD_MAP_MARKER_END:\n      return {\n        ...state,\n        mapMarkerEnd: action.payload\n      };\n    case CALC_DISTANCE:\n      return {\n        ...state,\n        customDistance: [...state.customDistance, action.payload]\n      };\n    case CALC_ELEVATION:\n      return {\n        ...state,\n        mapMarkers: [...state.mapMarkers, action.payload]\n      };\n    case STORE_CUSTOM_TRACK:\n      return {\n        ...state,\n        customPath: {\n          path: action.payload.path,\n          distance: action.payload.distance,\n          elevationGain: action.payload.elevationGain,\n          elevationLoss: action.payload.elevationLoss,\n          elevationChartData: action.payload.chartData\n        }\n      };\n    case CHANGE_ZOOM_LEVEL:\n      return {\n        ...state,\n        zoom: action.payload\n      };\n\n    case CHANGE_FOCUS_POINT:\n      return {\n        ...state,\n        center: action.payload\n      };\n\n    case FIND_TRAIL_MARKERS:\n      return {\n        ...state,\n        mapMarkerTypes: action.payload\n      };\n\n    case FILTER_TRAIL_MARKERS:\n      return {\n        ...state,\n        filters: action.payload\n      };\n\n    case CHANGE_TERRAIN:\n      return {\n        ...state,\n        terrain: action.payload\n      };\n\n    case SET_START_POINT:\n      return {\n        ...state,\n        startPoint: action.payload\n      };\n\n    case SET_END_POINT:\n      return {\n        ...state,\n        endPoint: action.payload\n      };\n\n    case STORE_FOCUS_MARKER:\n      return {\n        ...state,\n        focusMarker: action.payload\n      };\n\n    case SET_CUSTOM_DISTANCE_MARKER:\n      return {\n        ...state,\n        customDistanceMarker: action.payload\n      };\n\n    case WIPE_MARKERS_AND_PATH:\n      return {\n        ...state,\n        mapMarkerStart: null,\n        mapMarkerEnd: null,\n        customPath: {},\n        customDistance: [],\n        startPoint: {},\n        endPoint: {}\n      };\n\n    case WIPE_MARKERS:\n      return {\n        ...state,\n        mapMarkerStart: null,\n        mapMarkerEnd: null\n      };\n\n    case ALLOW_CUSTOM_PATH:\n      return {\n        ...state,\n        allowCustomPath: action.payload\n      };\n\n    case CHANGE_SIDEBAR_DATA:\n      return {\n        ...state,\n        sideBarImage: action.payload.image,\n        sideBarBlurb: action.payload.blurb\n      };\n\n    case SET_OPEN_MENUS:\n      return {\n        ...state,\n        openKeys: action.payload\n      };\n\n    case OPEN_DISTANCE_TAB:\n      return {\n        ...state,\n        openKeys: [...state.openKeys, \"distanceTab\"]\n      };\n    default:\n      return state;\n  }\n}\n","import findPath from './dijkstra'\nimport preprocess from './preprocessor'\nimport compactor from './compactor'\nimport roundCoord from './round-coord'\n\nexport function PathFinder(graph, options) {\n  options = options || {}\n\n  if (!graph.compactedVertices) {\n    graph = preprocess(graph, options)\n  }\n\n  this._graph = graph\n  this._keyFn =\n    options.keyFn ||\n    function(c) {\n      return c.join(',')\n    }\n  this._precision = options.precision || 1e-5\n  this._options = options\n\n  if (\n    Object.keys(this._graph.compactedVertices).filter(function(k) {\n      return k !== 'edgeData'\n    }).length === 0\n  ) {\n    throw new Error(\n      'Compacted graph contains no forks (topology has no intersections).'\n    )\n  }\n}\n\nPathFinder.prototype = {\n  findPath: function(a, b) {\n    var start = this._keyFn(\n        roundCoord(a.geometry.coordinates, this._precision)\n      ),\n      finish = this._keyFn(roundCoord(b.geometry.coordinates, this._precision))\n\n    // We can't find a path if start or finish isn't in the\n    // set of non-compacted vertices\n    if (!this._graph.vertices[start] || !this._graph.vertices[finish]) {\n      return null\n    }\n\n    var phantomStart = this._createPhantom(start)\n    var phantomEnd = this._createPhantom(finish)\n\n    var path = findPath(this._graph.compactedVertices, start, finish)\n\n    if (path) {\n      var weight = path[0]\n      path = path[1]\n      return {\n        path: path\n          .reduce(\n            function buildPath(cs, v, i, vs) {\n              if (i > 0) {\n                cs = cs.concat(this._graph.compactedCoordinates[vs[i - 1]][v])\n              }\n\n              return cs\n            }.bind(this),\n            []\n          )\n          .concat([this._graph.sourceVertices[finish]]),\n        weight: weight,\n        edgeDatas: this._graph.compactedEdges\n          ? path.reduce(\n              function buildEdgeData(eds, v, i, vs) {\n                if (i > 0) {\n                  eds.push({\n                    reducedEdge: this._graph.compactedEdges[vs[i - 1]][v]\n                  })\n                }\n\n                return eds\n              }.bind(this),\n              []\n            )\n          : undefined\n      }\n    } else {\n      return null\n    }\n\n    this._removePhantom(phantomStart)\n    this._removePhantom(phantomEnd)\n  },\n\n  serialize: function() {\n    return this._graph\n  },\n\n  _createPhantom: function(n) {\n    if (this._graph.compactedVertices[n]) return null\n\n    var phantom = compactor.compactNode(\n      n,\n      this._graph.vertices,\n      this._graph.compactedVertices,\n      this._graph.sourceVertices,\n      this._graph.edgeData,\n      true,\n      this._options\n    )\n    this._graph.compactedVertices[n] = phantom.edges\n    this._graph.compactedCoordinates[n] = phantom.coordinates\n\n    if (this._graph.compactedEdges) {\n      this._graph.compactedEdges[n] = phantom.reducedEdges\n    }\n\n    Object.keys(phantom.incomingEdges).forEach(\n      function(neighbor) {\n        this._graph.compactedVertices[neighbor][n] =\n          phantom.incomingEdges[neighbor]\n        this._graph.compactedCoordinates[neighbor][n] =\n          phantom.incomingCoordinates[neighbor]\n        if (this._graph.compactedEdges) {\n          this._graph.compactedEdges[neighbor][n] =\n            phantom.reducedEdges[neighbor]\n        }\n      }.bind(this)\n    )\n\n    return n\n  },\n\n  _removePhantom: function(n) {\n    if (!n) return\n\n    Object.keys(this._graph.compactedVertices[n]).forEach(\n      function(neighbor) {\n        delete this._graph.compactedVertices[neighbor][n]\n      }.bind(this)\n    )\n    Object.keys(this._graph.compactedCoordinates[n]).forEach(\n      function(neighbor) {\n        delete this._graph.compactedCoordinates[neighbor][n]\n      }.bind(this)\n    )\n    if (this._graph.compactedEdges) {\n      Object.keys(this._graph.compactedEdges[n]).forEach(\n        function(neighbor) {\n          delete this._graph.compactedEdges[neighbor][n]\n        }.bind(this)\n      )\n    }\n\n    delete this._graph.compactedVertices[n]\n    delete this._graph.compactedCoordinates[n]\n\n    if (this._graph.compactedEdges) {\n      delete this._graph.compactedEdges[n]\n    }\n  }\n}\n","import topology from './topology'\nimport compactor from './compactor'\nimport distance from '@turf/distance'\nimport roundCoord from './round-coord'\nimport point from 'turf-point'\n\nexport default function preprocess(graph, options) {\n  options = options || {}\n  var weightFn =\n      options.weightFn ||\n      function defaultWeightFn(a, b) {\n        return distance(point(a), point(b))\n      },\n    topo\n\n  if (graph.type === 'FeatureCollection') {\n    // Graph is GeoJSON data, create a topology from it\n    topo = topology(graph, options)\n  } else if (graph.edges) {\n    // Graph is a preprocessed topology\n    topo = graph\n  }\n\n  var graph = topo.edges.reduce(\n    function buildGraph(g, edge, i, es) {\n      var a = edge[0],\n        b = edge[1],\n        props = edge[2],\n        w = weightFn(topo.vertices[a], topo.vertices[b], props),\n        makeEdgeList = function makeEdgeList(node) {\n          if (!g.vertices[node]) {\n            g.vertices[node] = {}\n            if (options.edgeDataReduceFn) {\n              g.edgeData[node] = {}\n            }\n          }\n        },\n        concatEdge = function concatEdge(startNode, endNode, weight) {\n          var v = g.vertices[startNode]\n          v[endNode] = weight\n          if (options.edgeDataReduceFn) {\n            g.edgeData[startNode][endNode] = options.edgeDataReduceFn(\n              options.edgeDataSeed,\n              props\n            )\n          }\n        }\n\n      if (w) {\n        makeEdgeList(a)\n        makeEdgeList(b)\n        if (w instanceof Object) {\n          if (w.forward) {\n            concatEdge(a, b, w.forward)\n          }\n          if (w.backward) {\n            concatEdge(b, a, w.backward)\n          }\n        } else {\n          concatEdge(a, b, w)\n          concatEdge(b, a, w)\n        }\n      }\n\n      if (i % 1000 === 0 && options.progress) {\n        options.progress('edgeweights', i, es.length)\n      }\n\n      return g\n    },\n    { edgeData: {}, vertices: {} }\n  )\n\n  var compact = compactor.compactGraph(\n    graph.vertices,\n    topo.vertices,\n    graph.edgeData,\n    options\n  )\n\n  return {\n    vertices: graph.vertices,\n    edgeData: graph.edgeData,\n    sourceVertices: topo.vertices,\n    compactedVertices: compact.graph,\n    compactedCoordinates: compact.coordinates,\n    compactedEdges: options.edgeDataReduceFn ? compact.reducedEdges : null\n  }\n}\n","import bearing from '@turf/bearing'\nimport distance from '@turf/distance'\nimport destination from '@turf/destination'\nimport lineIntersects from '@turf/line-intersect'\nimport { flattenEach } from '@turf/meta'\nimport { isObject, lineString, point } from '@turf/helpers'\nimport { getCoords } from '@turf/invariant'\n\n/**\n * Takes a {@link Point} and a {@link LineString} and calculates the closest Point on the (Multi)LineString.\n *\n * @name nearestPointOnLine\n * @param {Geometry|Feature<LineString|MultiLineString>} lines lines to snap to\n * @param {Geometry|Feature<Point>|number[]} pt point to snap from\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} closest point on the `line` to `point`. The properties object will contain three values: `index`: closest point was found on nth line part, `dist`: distance between pt and the closest point, `location`: distance along the line between start and the closest point.\n * @example\n * var line = turf.lineString([\n *     [-77.031669, 38.878605],\n *     [-77.029609, 38.881946],\n *     [-77.020339, 38.884084],\n *     [-77.025661, 38.885821],\n *     [-77.021884, 38.889563],\n *     [-77.019824, 38.892368]\n * ]);\n * var pt = turf.point([-77.037076, 38.884017]);\n *\n * var snapped = turf.nearestPointOnLine(line, pt, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line, pt, snapped];\n * snapped.properties['marker-color'] = '#00f';\n */\nfunction nearestPointOnLine(lines, pt, options) {\n  // Optional parameters\n  options = options || {}\n  if (!isObject(options)) throw new Error('options is invalid')\n\n  // validation\n  var type = lines.geometry ? lines.geometry.type : lines.type\n  if (type !== 'LineString' && type !== 'MultiLineString') {\n    throw new Error('lines must be LineString or MultiLineString')\n  }\n\n  var closestPt = point([Infinity, Infinity], {\n    dist: Infinity\n  })\n\n  var length = 0.0\n  flattenEach(lines, function(line) {\n    var coords = getCoords(line)\n\n    for (var i = 0; i < coords.length - 1; i++) {\n      //start\n      var start = point(coords[i])\n      start.properties.dist = distance(pt, start, options)\n      //stop\n      var stop = point(coords[i + 1])\n      stop.properties.dist = distance(pt, stop, options)\n      // sectionLength\n      var sectionLength = distance(start, stop, options)\n      //perpendicular\n      var heightDistance = Math.max(start.properties.dist, stop.properties.dist)\n      var direction = bearing(start, stop)\n      var perpendicularPt1 = destination(\n        pt,\n        heightDistance,\n        direction + 90,\n        options\n      )\n      var perpendicularPt2 = destination(\n        pt,\n        heightDistance,\n        direction - 90,\n        options\n      )\n      var intersect = lineIntersects(\n        lineString([\n          perpendicularPt1.geometry.coordinates,\n          perpendicularPt2.geometry.coordinates\n        ]),\n        lineString([start.geometry.coordinates, stop.geometry.coordinates])\n      )\n      var intersectPt = null\n      if (intersect.features.length > 0) {\n        intersectPt = intersect.features[0]\n        intersectPt.properties.dist = distance(pt, intersectPt, options)\n        intersectPt.properties.location =\n          length + distance(start, intersectPt, options)\n      }\n\n      if (start.properties.dist < closestPt.properties.dist) {\n        closestPt = start\n        closestPt.properties.index = coords[i]\n        closestPt.properties.location = length\n      }\n      if (stop.properties.dist < closestPt.properties.dist) {\n        closestPt = stop\n        closestPt.properties.index = coords[i + 1]\n        closestPt.properties.location = length + sectionLength\n      }\n      if (\n        intersectPt &&\n        intersectPt.properties.dist < closestPt.properties.dist\n      ) {\n        closestPt = intersectPt\n        closestPt.properties.index = coords[i]\n      }\n      // update length\n      length += sectionLength\n    }\n  })\n\n  return closestPt\n}\n\nexport default nearestPointOnLine\n","import distance from \"@turf/distance\";\nimport along from \"@turf/along\";\nimport {lineString, multiLineString, point} from \"@turf/helpers\";\nimport combine from \"@turf/combine\";\nimport {PathFinder} from \"./geojson-path-finder/index\";\nimport nearestPointOnLine from \"./nearest-point-on-line\";\nimport {element} from \"prop-types\";\nimport _ from \"lodash\";\n\nexport function findPointAlongLine(path, distance) {\n  return along(path, distance);\n}\n\nfunction findDistance(path) {\n  let customDistance = 0;\n  let chartData = [];\n  let elevationGain = 0;\n  let elevationLoss = 0;\n  let i;\n  if (path.length > 1) {\n    for (i = 0; i < path.length; i++) {\n      if (path[i - 1]) {\n        customDistance += distance(path[i - 1], path[i]);\n        let absLossOrGain = 0;\n        if (i > 0 && i % 11 === 0) {\n          //sample every 11th point\n          absLossOrGain = Math.abs(path[i][2] - path[i - 11][2]);\n          if (absLossOrGain > 5) {\n            //filter out the noise\n            if (path[i - 11][2] < path[i][2]) {\n              //if the previous point is lower than the current point, it's elevation gain, otherwise it's elevation loss\n              elevationGain += absLossOrGain;\n            } else {\n              elevationLoss += absLossOrGain;\n            }\n          }\n        }\n        chartData.push({\n          elevation: path[i][2],\n          distance: customDistance,\n          coords: [path[i][1], path[i][0]]\n        });\n      } else {\n        customDistance = 0;\n        chartData.push({\n          elevation: path[i][2],\n          distance: customDistance,\n          coords: [path[i][1], path[i][0]]\n        });\n      }\n    }\n  }\n  return {\n    distance: customDistance,\n    chartData: chartData,\n    elevationGain: elevationGain,\n    elevationLoss: elevationLoss\n  };\n}\n\nexport function isMarkersValid(geoJsonPath, start, finish) {\n  let { closestStart, closestFinish } = closest(geoJsonPath, start, finish);\n  let startDistance = distance(\n    [\n      closestStart.geometry.coordinates[1],\n      closestStart.geometry.coordinates[0]\n    ],\n    [start.latlng.lat, start.latlng.lng]\n  );\n  let endDistance = distance(\n    [\n      closestFinish.geometry.coordinates[1],\n      closestFinish.geometry.coordinates[0]\n    ],\n    [finish.latlng.lat, finish.latlng.lng]\n  );\n  return startDistance < 10 && endDistance < 10;\n}\n\nfunction closest(geoJsonPath, start, finish) {\n  let MultiLineString = combine(geoJsonPath);\n  //pull out the coordinates\n  let line = MultiLineString.features[0].geometry.coordinates;\n  //turf convert to linestring\n  let lineString = multiLineString(line);\n  //find the closest start point from mouse click to GEOJSON line\n  let closestStart = nearestPointOnLine(\n    lineString,\n    point([start.latlng.lng, start.latlng.lat])\n  );\n\n  let closestFinish = nearestPointOnLine(\n    lineString,\n    point([finish.latlng.lng, finish.latlng.lat])\n  );\n  return { closestStart: closestStart, closestFinish: closestFinish };\n}\n\nexport function findPath(geoJsonPath, start, finish) {\n  let { closestStart, closestFinish } = closest(geoJsonPath, start, finish);\n  //grab the actual coordinates I jammed into the index (uses a customised version of turf nearestPointOnLine)\n  closestStart = point(closestStart.properties.index);\n  closestFinish = point(closestFinish.properties.index);\n  if (_.isEqual(closestStart, closestFinish)) {\n    return {\n      path: null,\n      distance: 0,\n      chartData: null,\n      elevationGain: 0,\n      elevationLoss: 0\n    };\n  }\n  let pathFinder = new PathFinder(geoJsonPath, { precision: 1e-5 }); //exact match is five decimal places, only leaving this in here for reference\n  let path = pathFinder.findPath(closestStart, closestFinish);\n  let customDistance = findDistance(path.path);\n  //returns a linestring so leaflet can use it as a geojson layer\n  let linestring = lineString(path.path);\n  let returnPath = {\n    path: linestring,\n    distance: customDistance.distance,\n    chartData: customDistance.chartData,\n    elevationGain: customDistance.elevationGain,\n    elevationLoss: customDistance.elevationLoss\n  };\n  return returnPath;\n}\n","import L from \"leaflet\";\nexport const start = new L.Icon({\n  iconUrl: require(\"./icons/start.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nexport const finish = new L.Icon({\n  iconUrl: require(\"./icons/finish.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst business = new L.Icon({\n  iconUrl: require(\"./icons/business.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nexport const bicycle = new L.Icon({\n  iconUrl: require(\"./icons/bicycle.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nexport const walking = new L.Icon({\n    iconUrl: require(\"./icons/hiking.svg\"),\n    iconSize: new L.Point(30, 35),\n    className: null\n});\n\nconst campSite = new L.Icon({\n  iconUrl: require(\"./icons/tent.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst hut = new L.Icon({\n  iconUrl: require(\"./icons/hut.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst town = new L.Icon({\n  iconUrl: require(\"./icons/town.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst water = new L.Icon({\n  iconUrl: require(\"./icons/water.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst attraction = new L.Icon({\n  iconUrl: require(\"./icons/attraction.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst vehicle = new L.Icon({\n  iconUrl: require(\"./icons/vehicle.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nexport default function findIcon(type) {\n  switch (type) {\n    case \"start\":\n      return start;\n    case \"finish\":\n      return finish;\n    case \"business\":\n      return business;\n    case \"bicycle\":\n      return bicycle;\n    case \"campsite\":\n      return campSite;\n    case \"hut\":\n      return hut;\n    case \"town\":\n      return town;\n    case \"water\":\n      return water;\n    case \"attraction\":\n      return attraction;\n    case \"vehicle\":\n      return vehicle;\n    default:\n      return campSite;\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setStartPoint, setEndPoint, openDistanceTab } from \"../redux/actions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFlag } from \"@fortawesome/free-regular-svg-icons\";\nimport { faFlagCheckered } from \"@fortawesome/free-solid-svg-icons\";\nimport { Divider } from \"antd\";\nimport findIcon from \"./helpers/iconsData\";\nimport { Marker, Popup } from \"react-leaflet\";\nimport ScaleText from \"react-scale-text\";\n\nexport class PoiMarker extends Component {\n  markerClick = point => {\n    this.props.openDistanceTab();\n    if (point === \"startPoint\") {\n      this.props.setStartPoint(this.props.marker);\n    } else {\n      this.props.setEndPoint(this.props.marker);\n    }\n  };\n  render() {\n    const { marker } = this.props;\n    const icon = findIcon(marker.marker_type);\n    const info = marker.marker_info;\n    const title = marker.marker_title;\n    return (\n      <Marker\n        key={marker.id}\n        position={[marker.marker_lat, marker.marker_lng]}\n        icon={icon}\n        onClick={() => {\n          this.props.onClick(marker);\n        }}\n      >\n        <Popup>\n          <div className=\"titleDiv\">\n            <div style={{ width: 120 }} className=\"title-parent\">\n              <ScaleText>\n                <p> {title} </p>\n              </ScaleText>\n            </div>\n            <div className=\"titleSpan\">\n              <a>\n                <FontAwesomeIcon\n                  icon={faFlag}\n                  className=\"startFlag\"\n                  onClick={() => {\n                    this.markerClick(\"startPoint\");\n                  }}\n                />\n              </a>\n              <a>\n                <FontAwesomeIcon\n                  icon={faFlagCheckered}\n                  className=\"startFlag\"\n                  onClick={() => {\n                    this.markerClick(\"endPoint\");\n                  }}\n                />\n              </a>\n            </div>\n          </div>\n          <Divider style={{ marginTop: 0, marginBottom: 5 }} />\n          <div className=\"popupText\">\n            {info.map(el => {\n              return (\n                <div>\n                  <b> {el.title}: </b> {el.value}\n                </div>\n              );\n            })}\n          </div>\n        </Popup>\n      </Marker>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setStartPoint: e => {\n    dispatch(setStartPoint(e));\n  },\n  setEndPoint: e => {\n    dispatch(setEndPoint(e));\n  },\n  openDistanceTab: e => {\n    dispatch(openDistanceTab(e));\n  }\n});\n\nconst mapStateToProps = state => ({});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PoiMarker);\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport _ from \"lodash\";\nimport {\n    addMapMarkerEnd,\n    addMapMarkerStart,\n    changeSideBarData,\n    openDistanceTab,\n    storeCustomTrack,\n    storeDistance,\n    storeElevation,\n    storeFocusMarker,\n    wipeMarkersAndPath\n} from \"../redux/actions\";\nimport {findPath, isMarkersValid} from \"./helpers/PathCalculator\";\nimport {GeoJSON, Map, Marker, TileLayer, ZoomControl} from \"react-leaflet\";\nimport {bicycle, finish, start, walking} from \"./helpers/iconsData\";\nimport PoiMarker from \"./PoiMarker\";\n\nclass MapComponent extends Component {\n  state = { markerCounter: 0 };\n\n  checkMarkers = e => {\n    //allow a maximum of two clicks before resetting the path\n    if (this.props.allowCustomPath) {\n      if (this.state.markerCounter === 0) {\n        this.setState({ markerCounter: this.state.markerCounter + 1 });\n        e.startEnd = \"start\";\n        this.addCustomMarker(e);\n      } else if (this.state.markerCounter === 1) {\n        this.setState({ markerCounter: this.state.markerCounter + 1 });\n        e.startEnd = \"end\";\n        this.addCustomMarker(e);\n      } else {\n        e.startEnd = \"start\";\n        this.props.wipeMarkersAndPath();\n        this.setState({ markerCounter: 1 });\n        this.addCustomMarker(e);\n      }\n    }\n  };\n\n  addCustomMarker(e) {\n    if (e.startEnd === \"start\") {\n      this.props.addMapMarkerStart(e);\n    } else {\n      this.props.addMapMarkerEnd(e);\n      if (\n        isMarkersValid(\n          this.props.data.map_track,\n          this.props.mapMarkerStart,\n          this.props.mapMarkerEnd\n        )\n      ) {\n        //if the markers aren't too far away\n        let pathAndDistance = findPath(\n          this.props.data.map_track,\n          this.props.mapMarkerStart,\n          this.props.mapMarkerEnd\n        );\n        this.props.storePath(pathAndDistance);\n        if (!this.props.openKeys.includes(\"distanceTab\")) {\n          this.props.openDistanceTab();\n        }\n      } else {\n        this.props.wipeMarkersAndPath();\n      }\n    }\n  }\n\n  draggableMarker = e => {\n    e.latlng = { lat: e.target._latlng.lat, lng: e.target._latlng.lng };\n    if (e.startEnd === \"start\") {\n      this.props.addMapMarkerStart(e);\n    } else {\n      this.props.addMapMarkerEnd(e);\n    }\n    let pathAndDistance = findPath(\n      this.props.data.map_track,\n      this.props.mapMarkerStart,\n      this.props.mapMarkerEnd\n    );\n    this.props.storePath(pathAndDistance);\n  };\n\n  checkForCustomPath = () => {\n    //if there is a custom route to display, display it\n    if (\n      Object.keys(this.props.customPath).length &&\n      this.props.customPath.path\n    ) {\n      return (\n        <GeoJSON\n          key={this.props.customPath.elevationChartData.length}\n          data={this.props.customPath.path}\n          interactive={false}\n          color=\"red\"\n        />\n      );\n    }\n  };\n\n  shouldShowMarker = marker => {\n    let startPoint = this.props.startPoint;\n    let endPoint = this.props.endPoint;\n    let focusMarker = this.props.focusMarker;\n    if (!_.isEmpty(startPoint)) {\n      if (startPoint.marker_id === marker.marker_id) {\n        return true;\n      }\n    }\n    if (!_.isEmpty(endPoint)) {\n      if (endPoint.marker_id === marker.marker_id) {\n        return true;\n      }\n    }\n    if (!_.isEmpty(focusMarker)) {\n      if (focusMarker.marker_id === marker.marker_id) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  onClickMarker = marker => {\n    this.props.storeFocusMarker(marker);\n    this.props.changeSideBarData(marker.marker_blurb, marker.default_image);\n  };\n\n  filterMarkers = () => {\n    //if the marker is in the filtered list\n    let validMarkers = [];\n    this.props.poiMarkers.map(marker => {\n      if (\n        this.props.filters.includes(marker.marker_type) ||\n        this.shouldShowMarker(marker)\n      ) {\n        validMarkers.push(\n          <PoiMarker marker={marker} onClick={this.onClickMarker} />\n        );\n      }\n    });\n    return validMarkers;\n  };\n\n  render() {\n    const {\n      data,\n      center,\n      zoom,\n      terrain,\n      customDistanceMarker,\n      mapMarkerStart,\n      mapMarkerEnd\n    } = this.props;\n    let terrainURL =\n      \"https://maps.tilehosting.com/styles/\" +\n      terrain +\n      \"/{z}/{x}/{y}.png?key=7qrAZ6R0EFPZMiyEp2m4\";\n    return (\n      <Map\n        center={center}\n        zoom={zoom}\n        className=\"map\"\n        zoomControl={false}\n        onClick={this.checkMarkers}\n      >\n        <ZoomControl position=\"bottomright\" />\n        <TileLayer\n          attribution='<a href=\"https://www.maptiler.com/license/maps/\" target=\"_blank\">© MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">© OpenStreetMap contributors</a>'\n          url={terrainURL}\n        />\n        <GeoJSON interactive={false} data={data.map_track} />\n\n        {this.checkForCustomPath()}\n        {this.filterMarkers().map(marker => {\n          return marker;\n        })}\n\n        {mapMarkerStart ? (\n          //custom markers from click event\n          <Marker\n            key={mapMarkerStart.distance}\n            position={[mapMarkerStart.latlng.lat, mapMarkerStart.latlng.lng]}\n            icon={start}\n            draggable={true}\n            onDragEnd={e => {\n              e.startEnd = \"start\";\n              return this.draggableMarker(e);\n            }}\n            className=\"map-marker-custom\"\n          />\n        ) : null}\n\n        {mapMarkerEnd ? (\n          //custom markers from click event\n          <Marker\n            key={mapMarkerEnd.distance}\n            position={[mapMarkerEnd.latlng.lat, mapMarkerEnd.latlng.lng]}\n            icon={finish}\n            draggable={true}\n            onDragEnd={e => {\n              e.startEnd = \"end\";\n              return this.draggableMarker(e);\n            }}\n            className=\"map-marker-custom\"\n          />\n        ) : null}\n\n        {customDistanceMarker.length ? (\n          //custom marker from elevation click hover\n          <Marker\n            key={1}\n            position={customDistanceMarker}\n            icon={\n              this.props.data.map_type.toLowerCase() === \"cycling\"\n                ? bicycle\n                : walking\n            }\n          />\n        ) : null}\n      </Map>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addMapMarkerStart: e => {\n    dispatch(addMapMarkerStart(e));\n  },\n  addMapMarkerEnd: e => {\n    dispatch(addMapMarkerEnd(e));\n  },\n  storeDistance: distance => {\n    dispatch(storeDistance(distance));\n  },\n  calcElevation: elevation => {\n    dispatch(storeElevation(elevation));\n  },\n  storePath: path => {\n    dispatch(storeCustomTrack(path));\n  },\n  wipeMarkersAndPath: () => {\n    dispatch(wipeMarkersAndPath());\n  },\n  openDistanceTab: () => {\n    dispatch(openDistanceTab());\n  },\n  changeSideBarData: (blurb, image) => {\n    dispatch(changeSideBarData(blurb, image));\n  },\n  storeFocusMarker: marker => {\n    dispatch(storeFocusMarker(marker));\n  }\n});\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  poiMarkers: state.poiMarkers,\n  customDistance: state.customDistance,\n  customPath: state.customPath,\n  center: state.center,\n  zoom: state.zoom,\n  filters: state.filters,\n  terrain: state.terrain,\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  focusMarker: state.focusMarker,\n  customDistanceMarker: state.customDistanceMarker,\n  mapMarkerStart: state.mapMarkerStart,\n  mapMarkerEnd: state.mapMarkerEnd,\n  allowCustomPath: state.allowCustomPath,\n  openKeys: state.openKeys\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MapComponent);\n","import {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Label,\n  ResponsiveContainer\n} from 'recharts'\nimport React, { Component } from 'react'\nimport { setCustomDistanceMarker } from '../redux/actions'\nimport { findPointAlongLine } from './helpers/PathCalculator'\nimport { connect } from 'react-redux'\n\nclass ElevationChart extends Component {\n  drawMarker = event => {\n    if (event.activePayload)\n      this.props.dispatch(\n        setCustomDistanceMarker(event.activePayload[0].payload.coords)\n      )\n  }\n\n  wipeMarker = () => {\n    this.props.dispatch(setCustomDistanceMarker([]))\n  }\n\n  render() {\n    let roundData = point => {\n      return Math.round(point.distance)\n    }\n    return (\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          data={this.props.customPath.elevationChartData}\n          margin={{ top: 5, right: 20, left: 5, bottom: 12 }}\n          onMouseMove={e => this.drawMarker(e)}\n          onMouseLeave={this.wipeMarker}\n        >\n          <XAxis dataKey={roundData}>\n            <Label\n              value=\"Distance (km)\"\n              offset={-6}\n              position=\"insideBottom\"\n              className=\"x-axis\"\n            />\n          </XAxis>\n          <Tooltip\n            labelFormatter={name => 'distance: ' + name + 'km'}\n            formatter={value => value + 'm'}\n          />\n          />\n          <YAxis allowDecimals={false} dataKey=\"elevation\">\n            <Label\n              value=\"Elevation (meters)\"\n              angle={-90}\n              position=\"insideLeft\"\n              offset={10}\n              dy={60}\n              style={{ color: 'red' }}\n              className=\"y-axis\"\n            />\n          </YAxis>\n          <Line\n            dot={false}\n            type=\"monotone\"\n            dataKey=\"elevation\"\n            stroke=\"#8884d8\"\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  customPath: state.customPath\n})\n\nexport default connect(mapStateToProps)(ElevationChart)\n","import React, { Component } from \"react\";\nimport connect from \"react-redux/es/connect/connect\";\nimport { Cascader } from \"antd\";\n\nexport class MapSelect extends Component {\n  onMapSelect = value => {\n    window.location.href = \"/maps/\" + value[1];\n  };\n\n  buildChildren = type => {\n    let children = [];\n    this.props.allMaps.map(map => {\n      if (map[type]) {\n        children.push({ value: map.map_alias, label: map.map_name });\n      }\n    });\n    return children;\n  };\n  render() {\n    const options = [\n      {\n        value: \"cycling\",\n        label: \"Cycling\",\n        children: this.buildChildren(\"cycling\")\n      },\n      {\n        value: \"walking\",\n        label: \"Bushwalking\",\n        children: this.buildChildren(\"walking\")\n      }\n    ];\n    return (\n      <Cascader\n        options={options}\n        className={\"map-select\"}\n        onChange={this.onMapSelect}\n        placeholder={\n          this.props.data.map_name\n            ? this.props.data.map_name +\n              \" | \" +\n              this.props.data.map_type.charAt(0).toUpperCase() +\n              this.props.data.map_type.slice(1)\n            : \"Please Select\"\n        }\n        size={\"large\"}\n        getPopupContainer={() =>\n          document.getElementsByClassName(this.props.parentNode)[0]\n        }\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  allMaps: state.allMaps\n});\n\nexport default connect(mapStateToProps)(MapSelect);\n","import React, { Component } from 'react'\nimport { Select } from 'antd'\nconst Option = Select.Option\n\nclass DistanceCalculator extends Component {\n  render() {\n    const { dataSource, onSelect, type, value, inputDirty } = this.props\n    const options = dataSource.map(poi => (\n      <Option key={poi.marker_id}>{poi.marker_title}</Option>\n    ))\n    return (\n      <div>\n        <Select\n          showSearch\n          style={{ width: 200, marginBottom: 10 }}\n          onInputKeyDown={inputDirty}\n          placeholder={this.props.placeHolder}\n          filterOption={(inputValue, option) =>\n            option.props.children\n              .toUpperCase()\n              .indexOf(inputValue.toUpperCase()) !== -1\n          }\n          onSelect={e => {\n            onSelect(e, type)\n          }}\n          value={value ? value.marker_title : null}\n        >\n          {options}\n        </Select>\n      </div>\n    )\n  }\n}\n\nexport default DistanceCalculator\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {Button, Card, Divider, Icon, Switch, Tooltip} from \"antd\";\nimport DistanceCalculator from \"./DistanceCalculator\";\n\nclass DistanceCalculatorForm extends React.Component {\n  render() {\n    const {\n      dataSource,\n      dataSelect,\n      buttonDisabled,\n      submitDistance,\n      startPoint,\n      endPoint,\n      clearPath,\n      customPath\n    } = this.props;\n    return <div style={{ marginLeft: 48 }}>\n        <div>\n          <DistanceCalculator placeHolder={\"Start point\"} onSelect={dataSelect} type={\"start\"} dataSource={dataSource} value={startPoint} className=\"distance-calculator\" />\n          <DistanceCalculator placeHolder={\"End point\"} onSelect={dataSelect} type={\"end\"} dataSource={dataSource} value={endPoint} />\n          {this.props.customDistance}\n          <Button disabled={buttonDisabled} icon=\"calculator\" type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" onClick={submitDistance}>\n            Calculate\n          </Button>\n          {customPath.path ? <Button icon=\"delete\" type=\"default\" htmlType=\"submit\" className=\"clear-path\" onClick={clearPath}>\n              Clear\n            </Button> : null}\n        </div>\n        <Divider className=\"distance-divider\" />\n        <Card bordered={false} style={{ width: 250 }}>\n          <span>\n            Custom Path Creation\n            <Tooltip title=\"Click on the map to define a custom start and end point \">\n              <Icon style={{paddingLeft: 4, fontSize: 12}} type=\"question-circle\" />\n            </Tooltip>\n            <Switch size=\"small\" style={{ marginLeft: 5 }} checked={this.props.allowCustomPath} onChange={this.props.toggleCustomPath} />\n          </span>\n        </Card>\n        <Divider style={{ marginTop: 0 }} className=\"distance-divider\" />\n        {customPath.path ? <Card bordered={false} style={{ width: 250 }}>\n            <p>\n              <b> Distance: </b>\n              {customPath.distance.toFixed(2)}km\n            </p>\n            <p>\n              <b>Elevation Gain: </b>\n              {Math.round(customPath.elevationGain)}m\n            </p>\n            <p>\n              <b>Elevation Loss: </b> {Math.round(customPath.elevationLoss)}m\n            </p>\n          </Card> : null}\n      </div>;\n  }\n}\n\nconst mapStateToProps = state => ({\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  customPath: state.customPath,\n  allowCustomPath: state.allowCustomPath\n});\n\nexport default connect(mapStateToProps)(DistanceCalculatorForm);\n","import React, { Component } from \"react\";\nimport { Checkbox } from \"antd\";\nconst CheckboxGroup = Checkbox.Group;\n\nexport default class Filters extends Component {\n  render() {\n    const mapMarkerTypes = this.props.mapMarkerTypes;\n    return (\n      <CheckboxGroup\n        style={this.props.style}\n        options={mapMarkerTypes}\n        onChange={this.props.filterMarkers}\n        defaultValue={this.props.currentFilters}\n      />\n    );\n  }\n}\n","export const mapStyles = [\n  { key: 'darkmatter', pretty: 'Dark Matter - (dark theme)' },\n  { key: 'basic', pretty: 'Basic' },\n  { key: 'positron', pretty: 'Positron - (greyscale)' },\n  { key: 'topo', pretty: 'Topographical' }\n]\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { mapStyles } from '../config'\nimport { Select } from 'antd'\n\nconst Option = Select.Option\n\nexport class TerrainSwitch extends Component {\n  render() {\n    const { terrain, terrainSwitch } = this.props\n    return (\n      <div>\n        <Select\n          style={this.props.style}\n          onChange={terrainSwitch}\n          defaultValue={terrain}\n          placeholder={terrain.pretty}\n        >\n          {mapStyles.map(layer => {\n            return <Option key={layer.key}> {layer.pretty} </Option>\n          })}\n        </Select>\n      </div>\n    )\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  allowCustomPath,\n  changeFocusPoint,\n  changeTerrain,\n  changeZoomLevel,\n  filterTrailMarkers,\n  setEndPoint,\n  setOpenMenus,\n  setStartPoint,\n  storeCustomTrack,\n  storeFocusMarker,\n  wipeMarkers,\n  wipeMarkersAndPath\n} from \"../redux/actions\";\nimport { Card, Divider, Icon, Menu } from \"antd\";\nimport _ from \"lodash\";\nimport DistanceCalculator from \"./DistanceCalculator\";\nimport DistanceCalculatorForm from \"./DistanceCalculatorForm\";\nimport FilterMarkers from \"./Markers\";\nimport { TerrainSwitch } from \"./TerrainSwitch\";\nimport { findPath } from \"./helpers/PathCalculator\";\n\nexport const DISTANCE_KEY = \"distanceTab\";\n\nconst SubMenu = Menu.SubMenu;\n\nclass Sider extends React.Component {\n  dataSelect = (markerid, type) => {\n    let newFocus = this.props.poiMarkers.find(el => {\n      return el.marker_id === parseInt(markerid);\n    });\n    if (type === \"locate\") {\n      this.props.dispatch(changeZoomLevel(13));\n      this.props.dispatch(\n        changeFocusPoint([newFocus.marker_lat, newFocus.marker_lng])\n      );\n      this.props.dispatch(storeFocusMarker(newFocus));\n    } else if (type === \"start\") {\n      this.props.dispatch(setStartPoint(newFocus));\n    } else {\n      this.props.dispatch(setEndPoint(newFocus));\n    }\n  };\n\n  submitDistance = e => {\n    e.preventDefault();\n    this.props.dispatch(wipeMarkers());\n    let pathAndDistance = this.calculateInfo();\n    this.props.dispatch(storeCustomTrack(pathAndDistance));\n  };\n\n  clearPath = e => {\n    e.preventDefault();\n    this.props.dispatch(wipeMarkersAndPath());\n  };\n\n  calculateInfo = () => {\n    //deals with custom route finding\n    let pathObj = [\n      {\n        latlng: {\n          lat: this.props.startPoint.marker_lat,\n          lng: this.props.startPoint.marker_lng\n        }\n      },\n      {\n        latlng: {\n          lat: this.props.endPoint.marker_lat,\n          lng: this.props.endPoint.marker_lng\n        }\n      }\n    ];\n    let pathAndDistance = findPath(\n      this.props.data.map_track,\n      pathObj[0],\n      pathObj[1]\n    );\n    return pathAndDistance;\n  };\n\n  filterMarkers = markers => {\n    this.props.dispatch(filterTrailMarkers(markers));\n  };\n\n  terrainSwitch = value => {\n    this.props.dispatch(changeTerrain(value));\n  };\n\n  toggleCustomPath = bool => {\n    this.props.dispatch(allowCustomPath(bool));\n  };\n\n  isButtonDisabled = () => {\n    let startEmpty = _.isEmpty(this.props.startPoint);\n    let endEmpty = _.isEmpty(this.props.endPoint);\n    if (startEmpty || endEmpty) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  handleMenuOpen = menuKeys => {\n    this.props.dispatch(setOpenMenus(menuKeys));\n  };\n\n  render() {\n    console.log(openKeys);\n    const {\n      data,\n      poiMarkers,\n      mapMarkerTypes,\n      sideBarImage,\n      sideBarBlurb,\n      terrain,\n      focusMarker,\n      filters,\n      openKeys\n    } = this.props;\n    return (\n      <Menu\n        className=\"overlayMenu\"\n        onOpenChange={this.handleMenuOpen}\n        style={{ width: 300, opacity: 0.9 }}\n        defaultOpenKeys={[\"menu\", \"sub5\"]}\n        openKeys={openKeys}\n        mode=\"inline\"\n      >\n        <SubMenu\n          key=\"menu\"\n          className=\"title\"\n          title={\n            <span>\n              <Icon\n                style={{ fontSize: \"1.4em\" }}\n                type=\"setting\"\n                theme=\"outlined\"\n                className=\"icons-large\"\n              />\n              <span id=\"map-tool-heading\"> Map Tools</span>\n            </span>\n          }\n        >\n          <Divider style={{ margin: 0 }} />\n          <SubMenu\n            style={{ paddingTop: 40 }}\n            key=\"sub1\"\n            title={\n              <span>\n                <Icon type=\"search\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\">Locate Point on Map</span>\n              </span>\n            }\n          >\n            <div style={{ marginLeft: 48 }}>\n              <DistanceCalculator\n                placeHolder={\"Point on map\"}\n                dataSource={poiMarkers}\n                type={\"locate\"}\n                onSelect={this.dataSelect}\n                value={focusMarker}\n              />\n            </div>\n          </SubMenu>\n          <SubMenu\n            key={DISTANCE_KEY}\n            title={\n              <span>\n                <Icon type=\"calculator\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\">Distance and Elevation</span>\n              </span>\n            }\n          >\n            <DistanceCalculatorForm\n              dataSource={poiMarkers}\n              dataSelect={this.dataSelect}\n              buttonDisabled={this.isButtonDisabled()}\n              submitDistance={this.submitDistance}\n              clearPath={this.clearPath}\n              toggleCustomPath={this.toggleCustomPath}\n            />\n          </SubMenu>\n          <SubMenu\n            key=\"sub3\"\n            title={\n              <span>\n                <Icon type=\"select\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\"> Filter Markers</span>\n              </span>\n            }\n          >\n            <FilterMarkers\n              mapMarkerTypes={mapMarkerTypes}\n              filterMarkers={this.filterMarkers}\n              currentFilters={filters}\n              style={{ marginLeft: 48, width: 200 }}\n            />\n          </SubMenu>\n          <SubMenu\n            key=\"sub4\"\n            title={\n              <span>\n                <Icon type=\"picture\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\">Change Map Terrain</span>\n              </span>\n            }\n          >\n            <TerrainSwitch\n              terrain={terrain}\n              terrainSwitch={this.terrainSwitch}\n              style={{ marginLeft: 48, width: 200 }}\n            />\n          </SubMenu>\n          <SubMenu\n            key=\"sub5\"\n            title={\n              <span>\n                <Icon type=\"info-circle\" />\n                <span className=\"sub-heading\">Map & Marker Information</span>\n              </span>\n            }\n          >\n            <Card bordered={false} className=\"info-card\">\n              {!_.isEmpty(sideBarImage) ||\n              sideBarImage === \"\" ||\n              sideBarImage === null ? (\n                <span>\n                  <img className=\"map-blurb-img\" src={sideBarImage} />\n                </span>\n              ) : null}\n              <Divider className=\"map-info-divider\" />\n\n              <p style={{marginRight: 20}}>\n                <b> Information: </b>\n                {_.isEmpty(focusMarker)\n                  ? sideBarBlurb\n                  : focusMarker.marker_blurb}\n              </p>\n              <p>\n                <Divider className=\"map-info-divider\" />\n                <div>\n                  {!_.isEmpty(data.map_stats) && _.isEmpty(focusMarker)\n                    ? data.map_stats.map(el => {\n                        return (\n                          <div>\n                            <b>{el.key}</b> : {el.value}\n                          </div>\n                        );\n                      })\n                    : null}\n                </div>\n              </p>\n            </Card>\n          </SubMenu>\n        </SubMenu>\n      </Menu>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  poiMarkers: state.poiMarkers,\n  mapMarkerTypes: state.mapMarkerTypes,\n  customPath: state.customPath,\n  terrain: state.terrain,\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  focusMarker: state.focusMarker,\n  filters: state.filters,\n  sideBarImage: state.sideBarImage,\n  sideBarBlurb: state.sideBarBlurb,\n  openKeys: state.openKeys\n});\n\nexport default connect(mapStateToProps)(Sider);\n","import { Popover, Icon } from \"antd\";\nimport { Component } from \"react\";\nimport React from \"react\";\n\nexport class InfoPopover extends Component {\n  content = (\n    <div className=\"credits\">\n      <p>\n        Site Built By <a href=\"https://murrayw123.github.io\"> Murray Watts </a>\n      </p>\n      <br />\n      <p>\n        Found a bug? Want to tell me the site sucks? Got a trail that you think\n        should be added? Get in touch{\" \"}\n        <a href=\"https://murrayw123.github.io/contact.html\"> here </a>\n      </p>\n      <br />\n      <p className=\"attribute-info\">\n        Icons made by Icon Pond, Smashicons and Freepik from www.flaticon.com is\n        licensed by CC 3.0 BY\n      </p>\n    </div>\n  );\n\n  render() {\n    return (\n      <div className={\"info-icon\"}>\n        <Popover\n          content={this.content}\n          title=\"Credits and Information\"\n          placement=\"topRight\"\n          trigger=\"click\"\n        >\n          <Icon type=\"info-circle\" theme=\"filled\" />\n        </Popover>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport MapComponent from \"./MapComponent\";\nimport ElevationChart from \"./ElevationChart\";\nimport MapSelect from \"./MapSelect\";\nimport { fetchData, fetchMarkers, fetchOtherMaps } from \"../redux/actions\";\nimport { Rnd as ElevationChartWrapper } from \"react-rnd\";\nimport { Button, Icon } from \"antd\";\nimport Sider from \"./Menu.js\";\nimport { InfoPopover } from \"./InfoPopover\";\n\nclass MapParent extends Component {\n  state = { width: \"40%\", height: 125, showElevation: true };\n  componentDidMount() {\n    let currentMap = window.location.pathname.substring(6);\n    this.props.dispatch(fetchData(currentMap));\n    this.props.dispatch(fetchMarkers(currentMap));\n    this.props.dispatch(fetchOtherMaps());\n  }\n\n  elevationChartStatus = state => {\n    this.setState({ showElevation: state });\n  };\n\n  render() {\n    const { loadingTrack, loadingMarkers } = this.props;\n    const { showElevation } = this.state;\n\n    if (loadingTrack || loadingMarkers) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div className=\"map\">\n          <MapSelect parentNode={\"map\"} />\n          <MapComponent />\n          <Sider />\n          {!_.isEmpty(this.props.customPath) && showElevation === true ? (\n            <ElevationChartWrapper\n              className=\"elevation-chart\"\n              size={{ width: this.state.width, height: this.state.height }}\n              onResize={(e, direction, ref, delta, position) => {\n                this.setState({\n                  width: ref.style.width,\n                  height: ref.style.height,\n                  ...position\n                });\n              }}\n            >\n              <ElevationChart />\n              <Icon\n                className=\"minimise-chart\"\n                type=\"down-circle\"\n                onClick={() => {\n                  this.elevationChartStatus(false);\n                }}\n              />\n            </ElevationChartWrapper>\n          ) : !_.isEmpty(this.props.customPath) ? (\n            <Button\n              className=\"show-elevation\"\n              type=\"primary\"\n              size=\"small\"\n              onClick={() => {\n                this.elevationChartStatus(true);\n              }}\n            >\n              <span>\n                Show Elevation\n                <Icon className=\"minimise-chart\" type=\"up-circle\" />\n              </span>\n            </Button>\n          ) : null}\n          <InfoPopover />\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  loadingTrack: state.loadingTrack,\n  loadingMarkers: state.loadingMarkers,\n  filters: state.filters,\n  poiMarkers: state.poiMarkers,\n  customPath: state.customPath,\n  elevationChartData: state.elevationChartData\n});\n\nexport default connect(mapStateToProps)(MapParent);\n","import React, { Component } from \"react\";\nimport MapSelect from \"./MapSelect\";\nimport { fetchOtherMaps } from \"../redux/actions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nexport class LandingPage extends Component {\n  componentDidMount() {\n    this.props.dispatch(fetchOtherMaps());\n  }\n\n  render() {\n    return (\n      <div className=\"landing-page\">\n        <div className=\"map-switcher-block\">\n          <h1> Trail Maps </h1>\n          <div className=\"map-switcher-div\">\n            <MapSelect\n              placeholder={\"Select a Map\"}\n              parentNode={\"map-switcher-block\"}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect()(LandingPage);\n","import React, { Component } from \"react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport MapParent from \"./MapParent\";\nimport LandingPage from \"./LandingPage\";\n\nexport class RouteSwitcher extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n        <Route path=\"/maps/\" component={MapParent} />\n      </Switch>\n    );\n  }\n}\n","import React, {Component} from \"react\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {RouteSwitcher} from \"./RouteSwitcher\";\n\nexport default class Router extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <RouteSwitcher />\n      </BrowserRouter>\n    );\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. AdminParent is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport dataReducer from \"./redux/reducers\";\nimport thunk from \"redux-thunk\";\nimport Router from \"./components/Router\";\nimport unregister from \"./_registerServiceWorker\";\nimport \"../node_modules/antd/dist/antd.css\";\nimport \"./css/App.css\";\nimport \"./css/Menu.css\";\nimport \"./css/MapComponent.css\";\nimport \"./css/Chart.css\";\nimport \"./css/LandingPage.css\";\nimport \"./css/MapSwitcher.css\";\n\nconst store = createStore(dataReducer, applyMiddleware(thunk));\nunregister();\nReactDOM.render(\n  <Provider store={store}>\n    <Router />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n// registerServiceWorker();\n"],"sourceRoot":""}