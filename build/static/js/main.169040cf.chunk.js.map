{"version":3,"sources":["components/helpers/geojson-path-finder/round-coord.js","components/helpers/geojson-path-finder/compactor.js","components/helpers/geojson-path-finder/dijkstra.js","components/helpers/geojson-path-finder/topology.js","components/helpers/icons/start.svg","components/helpers/icons/finish.svg","components/helpers/icons/business.svg","components/helpers/icons/bicycle.svg","components/helpers/icons/hiking.svg","components/helpers/icons/tent.svg","components/helpers/icons/hut.svg","components/helpers/icons/town.svg","components/helpers/icons/water.svg","components/helpers/icons/attraction.svg","components/helpers/icons/vehicle.svg","components/helpers/icons/selected.svg","components/helpers/icons/cafe.svg","components/helpers/icons/food.svg","components/helpers/icons/lighthouse.svg","components/helpers/icons/picnic.svg","components/helpers/icons/pub.svg","components/helpers/icons/warning.svg","components/helpers/icons/taxi.svg","components/helpers/icons/rider.svg","components/helpers/icons/hiker.svg","components/helpers/iconsData.js","config.js","redux/actions.js","redux/reducers.js","components/helpers/geojson-path-finder/index.js","components/helpers/geojson-path-finder/preprocessor.js","components/helpers/nearest-point-on-line/main.es.js","components/helpers/PathCalculator.js","components/PoiMarker.js","components/ContextMenuApp.js","components/MapComponent.js","components/Modal.js","components/ElevationChart.js","components/MapSelect.js","components/DistanceCalculator.js","components/DistanceCalculatorForm.js","components/Markers.js","components/TerrainSwitch.js","components/Menu.js","components/InfoPopover.js","components/MapParent.js","components/404.js","components/LandingPage.js","components/RouteSwitcher.js","components/Router.js","index.js"],"names":["module","exports","c","precision","Math","round","compactNode","k","vertices","ends","vertexCoords","edgeData","trackIncoming","options","neighbors","Object","keys","reduce","result","j","neighbor","prev","v","weight","reverseWeight","coordinates","path","reducedEdge","edgeDataSeed","edgeDataReduceFn","edges","next","filter","indexOf","push","vertex","findNextEnd","concat","reducedEdges","isNaN","incomingEdges","reverse","incomingCoordinates","compactGraph","progress","es","i","vs","remove","numberEdges","length","other","n","compacted","graph","Queue","require","start","end","costs","queue","a","b","state","pop","cost","node","slice","neighbours","forEach","newCost","newState","explode","roundCoord","isLineString","f","geometry","type","geojson","keyFn","join","lineStrings","fn","features","geoJsonFilterFeatures","cs","fs","rc","geoJsonReduce","seed","k1","k2","properties","__webpack_require__","p","markerChoices","id","name","L","Icon","iconUrl","iconSize","Point","className","finish","business","bicycle","walking","campSite","hut","town","water","attraction","vehicle","selected","cafe","restaurant","lighthouse","picnicArea","pub","warning","taxi","rider","hiker","food_groupings","business_groupings","mapStyles","key","pretty","URLPREFIX","FETCH_DATA_BEGIN","FETCH_DATA_SUCCESS","FETCH_MARKERS_SUCCESS","FETCH_DATA_FAILURE","CALC_DISTANCE","CALC_ELEVATION","STORE_CUSTOM_TRACK","CHANGE_ZOOM_LEVEL","CHANGE_FOCUS_POINT","FIND_TRAIL_MARKERS","FILTER_TRAIL_MARKERS","CHANGE_TERRAIN","SET_START_POINT","SET_END_POINT","STORE_FOCUS_MARKER","SET_CUSTOM_DISTANCE_MARKER","ADD_MAP_MARKER_START","ADD_MAP_MARKER_END","WIPE_MARKERS_AND_PATH","WIPE_MARKERS","ALLOW_CUSTOM_PATH","CHANGE_SIDEBAR_DATA","SET_OPEN_MENUS","OPEN_DISTANCE_TAB","FETCH_MAPS_SUCCESS","WIPE_START_MARKER","WIPE_END_MARKER","FETCH_USERS_SUCCESS","FETCH_USERS_FAILURE","TOGGLE_LIVE_TRAIL_USERS","SHOW_MARKER_ADD_MODAL","LAT_LNG_FROM_CONTEXT","SHOULD_SHOW_CONTEXT_MENU","FETCH_ELEVATION_LOADING","CHANGE_ELEVATION_DATA","fetchOtherMaps","dispatch","fetchDataBegin","fetch","then","handleErrors","res","json","data","fetchMapsSuccess","catch","error","console","fetchDataError","fetchTrailUsers","mapString","map","trail_user","locations","Date","now","parse","recorded_timestamp","datestr","split","safdat","date","marker_id","marker_type","user_type","marker_lat","latitude","marker_lng","longitude","default_image","user_picture","marker_blurb","user_blurb","marker_info","title","value","toString","marker_title","user_name","gps_locations","fetchUsersSuccess","response","ok","Error","statusText","fetchDataSuccess","initMapInfo","payload","fetchMarkerSuccess","markers","maps","users","changeZoomLevel","zoomLevel","changeFocusPoint","newLatLng","storeCustomTrack","findTrailMarker","filterTrailMarkers","markerTypes","changeTerrain","terrainKey","setStartPoint","point","setEndPoint","storeFocusMarker","marker","setCustomDistanceMarker","latlng","wipeMarkersAndPath","wipeMarkers","wipeStartMarker","wipeEndMarker","allowCustomPath","bool","changeSideBarData","blurb","image","setOpenMenus","menuKeys","openDistanceTab","toggleLiveTrailUsers","showMarkerAddModal","shouldShowContextMenu","fetchElevationLoading","changeElevationData","initialState","loadingTrack","loadingMarkers","poiMarkers","distancePoint","mapMarkerTypes","distance","elevation","customDistance","customPath","terrain","zoom","center","filters","startPoint","endPoint","focusMarker","customDistanceMarker","mapMarkerStart","mapMarkerEnd","sideBarImage","sideBarBlurb","openKeys","allMaps","showLiveTrailUsers","liveTrailUsers","focusTrailUser","shouldShowModal","latLngFromContext","lat","lng","shouldShowContextMenuStatus","elevationData","PathFinder","compactedVertices","topo","weightFn","topology","g","edge","props","w","makeEdgeList","concatEdge","startNode","endNode","forward","backward","compact","compactor","sourceVertices","compactedCoordinates","compactedEdges","preprocess","this","_graph","_keyFn","_precision","_options","prototype","findPath","_createPhantom","bind","edgeDatas","eds","undefined","serialize","phantom","_removePhantom","nearestPointOnLine","lines","pt","isObject","closestPt","Infinity","dist","flattenEach","line","coords","getCoords","stop","sectionLength","heightDistance","max","direction","bearing","perpendicularPt1","destination","perpendicularPt2","intersect","lineIntersects","lineString","intersectPt","location","index","closest","geoJsonPath","combine","multiLineString","closestStart","closestFinish","_closest2","_","isEqual","chartData","elevationGain","elevationLoss","absLossOrGain","abs","findDistance","PoiMarker","_Component","_getPrototypeOf2","_this","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","markerClick","cloneDeep","includes","wipeMarkerStart","wipeMarkerEnd","switchIcon","findIcon","inherits","createClass","_this2","icon","info","react_default","createElement","Marker","position","onClick","Popup","lib","style","width","height","index_es","faFlag","faFlagCheckered","divider","marginTop","marginBottom","el","Component","connect","e","ContextMenuApp","loading","enableMarkerAdd","stopPropagation","_this$props","x","y","left","top","card","bordered","extra","es_icon","parseFloat","toFixed","es_button","MapComponent","context","checkMarkers","originalEvent","target","startPointCheckEmpty","isEmpty","endPointCheckEmpty","startEnd","addCustomMarker","draggableMarker","updatedMarker","_latlng","addMapMarkerStart","addMapMarkerEnd","updatePath","pathAndDistance","map_track","checkForCustomPath","GeoJSON","elevationChartData","interactive","color","shouldShowMarker","food","onClickMarker","filterMarkers","validMarkers","components_PoiMarker","rightClick","event","setState","containerPoint","setLatLngFromContextClick","fetchElevation","newMarker","Map","zoomControl","onContextMenu","ZoomControl","TileLayer","url","attribution","trailUser","components_ContextMenuApp","draggable","onDragEnd","map_type","toLowerCase","storeDistance","calcElevation","latLng","resourceSets","resources","elevations","TextArea","Input","Option","Select","CollectionCreateForm","Form","create","_React$Component","_class","visible","onCancel","onCreate","form","getFieldDecorator","modal","okText","onOk","es_form","layout","Item","label","tooltip","rules","required","message","input","display","initialValue","input_number","disabled","paddingLeft","hasFeedback","es_select","showSearch","dropdownClassName","placeholder","rows","valuePropName","getValueFromEvent","isArray","fileList","upload","assign","imageProps","action","React","MarkerModal","postNewMarker","_callee","formData","settings","regenerator_default","wrap","_context","method","headers","X-Requested-With","Content-Type","credentials","body","JSON","stringify","status","abrupt","sent","handleCancel","handleCreate","_callee3","_context3","formRef","validateFields","_ref3","asyncToGenerator","mark","_callee2","err","values","_context2","success","resetFields","_x2","_x3","saveFormRef","multiple","timestamp","upload_preset","api_key","onChange","file","log","wrappedComponentRef","ElevationChart","drawMarker","activePayload","wipeMarker","ResponsiveContainer","LineChart","margin","right","bottom","onMouseMove","onMouseLeave","XAxis","dataKey","Label","offset","Tooltip","labelFormatter","formatter","YAxis","allowDecimals","angle","dy","Line","dot","stroke","MapSelect","onMapSelect","window","href","buildChildren","children","map_alias","map_name","cascader","charAt","toUpperCase","size","getPopupContainer","document","getElementsByClassName","parentNode","DistanceCalculator","dataSource","onSelect","inputDirty","markerType","poi","DistanceCalculator_Option","mode","onInputKeyDown","placeHolder","filterOption","inputValue","option","DistanceCalculatorForm","dataSelect","buttonDisabled","submitDistance","clearPath","marginLeft","components_DistanceCalculator","htmlType","fontSize","es_switch","checked","toggleCustomPath","CheckboxGroup","Checkbox","Group","Filters","defaultValue","currentFilters","TerrainSwitch","terrainSwitch","layer","TerrainSwitch_Option","SubMenu","Menu","Sider","markerid","newFocus","find","parseInt","preventDefault","calculateInfo","pathObj","toggleShowLiveTrailUsers","isButtonDisabled","startEmpty","endEmpty","handleMenuOpen","menu","onOpenChange","opacity","defaultOpenKeys","theme","paddingTop","components_DistanceCalculatorForm","Markers_Filters","has","TerrainSwitch_TerrainSwitch","src","marginRight","map_stats","InfoPopover","content","popover","placement","trigger","MapParent","showElevation","elevationChartStatus","mapstring","currentMap","pathname","substring","clonedJson","default_filters","zoom_level","map_blurb","fetchMarkers","interval","setInterval","clearInterval","_this3","components_MapSelect","components_MapComponent","Modal","react_rnd_lib","onResize","ref","delta","objectSpread","components_ElevationChart","InfoPopover_InfoPopover","NotFound","LandingPage","RouteSwitcher","Switch","Route","exact","component","Router","BrowserRouter","RouteSwitcher_RouteSwitcher","store","createStore","startpointlat","startpointlng","toConsumableArray","mapMarkers","applyMiddleware","thunk","ReactDOM","render","Router_Router","getElementById"],"mappings":"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","file":"static/js/main.169040cf.chunk.js","sourcesContent":["module.exports = function roundCoord(c, precision) {\n    return [\n        Math.round(c[0] / precision) * precision,\n        Math.round(c[1] / precision) * precision,\n    ];\n};\n","'use strict';\n\nmodule.exports = {\n    compactNode: compactNode,\n    compactGraph: compactGraph\n};\n\nfunction findNextEnd(prev, v, vertices, ends, vertexCoords, edgeData, trackIncoming, options) {\n    var weight = vertices[prev][v],\n        reverseWeight = vertices[v][prev],\n        coordinates = [],\n        path = [],\n        reducedEdge = options.edgeDataSeed;\n        \n    if (options.edgeDataReduceFn) {\n        reducedEdge = options.edgeDataReduceFn(reducedEdge, edgeData[v][prev]);\n    }\n\n    while (!ends[v]) {\n        var edges = vertices[v];\n\n        if (!edges) { break; }\n\n        var next = Object.keys(edges).filter(function notPrevious(k) { return k !== prev; })[0];\n        weight += edges[next];\n\n        if (trackIncoming) {\n            reverseWeight += vertices[next][v];\n\n            if (path.indexOf(v) >= 0) {\n                ends[v] = vertices[v];\n                break;\n            }\n            path.push(v);\n        }\n\n        if (options.edgeDataReduceFn) {\n            reducedEdge = options.edgeDataReduceFn(reducedEdge, edgeData[v][next]);\n        }\n\n        coordinates.push(vertexCoords[v]);\n        prev = v;\n        v = next;\n    }\n\n    return {\n        vertex: v,\n        weight: weight,\n        reverseWeight: reverseWeight,\n        coordinates: coordinates,\n        reducedEdge: reducedEdge\n    };\n}\n\nfunction compactNode(k, vertices, ends, vertexCoords, edgeData, trackIncoming, options) {\n    options = options || {};\n    var neighbors = vertices[k];\n    return Object.keys(neighbors).reduce(function compactEdge(result, j) {\n        var neighbor = findNextEnd(k, j, vertices, ends, vertexCoords, edgeData, trackIncoming, options);\n        var weight = neighbor.weight;\n        var reverseWeight = neighbor.reverseWeight;\n        if (neighbor.vertex !== k) {\n            if (!result.edges[neighbor.vertex] || result.edges[neighbor.vertex] > weight) {\n                result.edges[neighbor.vertex] = weight;\n                result.coordinates[neighbor.vertex] = [vertexCoords[k]].concat(neighbor.coordinates);\n                result.reducedEdges[neighbor.vertex] = neighbor.reducedEdge;\n            }\n            if (trackIncoming && \n                !isNaN(reverseWeight) && (!result.incomingEdges[neighbor.vertex] || result.incomingEdges[neighbor.vertex] > reverseWeight)) {\n                result.incomingEdges[neighbor.vertex] = reverseWeight;\n                var coordinates = [vertexCoords[k]].concat(neighbor.coordinates);\n                coordinates.reverse();\n                result.incomingCoordinates[neighbor.vertex] = coordinates;\n            }\n        }\n        return result;\n    }, {edges: {}, incomingEdges: {}, coordinates: {}, incomingCoordinates: {}, reducedEdges: {}});\n}\n\nfunction compactGraph(vertices, vertexCoords, edgeData, options) {\n    options = options || {};\n    var progress = options.progress;\n    var ends = Object.keys(vertices).reduce(function findEnds(es, k, i, vs) {\n        var vertex = vertices[k];\n        var edges = Object.keys(vertex);\n        var numberEdges = edges.length;\n        var remove;\n\n        if (numberEdges === 1) {\n            var other = vertices[edges[0]];\n            remove = !other[k];\n        } else if (numberEdges === 2) {\n            remove = edges.filter(function(n) {\n                return vertices[n][k];\n            }).length === numberEdges;\n        } else {\n            remove = false;\n        }\n\n        if (!remove) {\n            es[k] = vertex;\n        }\n\n        if (i % 1000 === 0 && progress) {\n            progress('compact:ends', i, vs.length);\n        }\n\n        return es;\n    }, {});\n\n    return Object.keys(ends).reduce(function compactEnd(result, k, i, es) {\n        var compacted = compactNode(k, vertices, ends, vertexCoords, edgeData, false, options);\n        result.graph[k] = compacted.edges;\n        result.coordinates[k] = compacted.coordinates;\n\n        if (options.edgeDataReduceFn) {\n            result.reducedEdges[k] = compacted.reducedEdges;\n        }\n\n        if (i % 1000 === 0 && progress) {\n            progress('compact:nodes', i, es.length);\n        }\n\n        return result;\n    }, {graph: {}, coordinates: {}, reducedEdges: {}});\n};\n","var Queue = require('tinyqueue');\n\nmodule.exports = function(graph, start, end) {\n    var costs = {};\n    costs[start] = 0;\n    var initialState = [0, [start], start];\n    var queue = new Queue([initialState], function(a, b) { return a[0] - b[0]; });\n    var explored = {};\n\n    while (queue.length) {\n        var state = queue.pop();\n        var cost = state[0];\n        var node = state[2];\n        if (node === end) {\n            return state.slice(0, 2);\n        }\n\n        var neighbours = graph[node];\n        Object.keys(neighbours).forEach(function(n) {\n            var newCost = cost + neighbours[n];\n            if (!(n in costs) || newCost < costs[n]) {\n                costs[n] = newCost;\n                var newState = [newCost, state[1].concat([n]), n];\n                queue.push(newState);\n            }\n        });\n    }\n\n    return null;\n}","'use strict';\n\nvar explode = require('@turf/explode'),\n    roundCoord = require('./round-coord');\n\nmodule.exports = topology;\n\nfunction geoJsonReduce(geojson, fn, seed) {\n    if (geojson.type === 'FeatureCollection') {\n        return geojson.features.reduce(function reduceFeatures(a, f) {\n            return geoJsonReduce(f, fn, a);\n        }, seed);\n    } else {\n        return fn(seed, geojson);\n    }\n}\n\nfunction geoJsonFilterFeatures(geojson, fn) {\n    var features = [];\n    if (geojson.type === 'FeatureCollection') {\n        features = features.concat(geojson.features.filter(fn));\n    }\n\n    return {\n        type: 'FeatureCollection',\n        features: features\n    };\n}\n\nfunction isLineString(f) {\n    return f.geometry.type === 'LineString';\n}\n\nfunction topology(geojson, options) {\n    options = options || {};\n    var keyFn = options.keyFn || function defaultKeyFn(c) {\n            return c.join(',');\n        },\n        precision = options.precision || 1e-5;\n\n    var lineStrings = geoJsonFilterFeatures(geojson, isLineString);\n    var explodedLineStrings = explode(lineStrings);\n    var vertices = explodedLineStrings.features.reduce(function buildTopologyVertices(cs, f, i, fs) {\n            var rc = roundCoord(f.geometry.coordinates, precision);\n            cs[keyFn(rc)] = f.geometry.coordinates;\n\n            if (i % 1000 === 0 && options.progress) {\n                options.progress('topo:vertices', i, fs.length);\n            }\n\n            return cs;\n        }, {}),\n        edges = geoJsonReduce(lineStrings, function buildTopologyEdges(es, f, i, fs) {\n            f.geometry.coordinates.forEach(function buildLineStringEdges(c, i, cs) {\n                if (i > 0) {\n                    var k1 = keyFn(roundCoord(cs[i - 1], precision)),\n                        k2 = keyFn(roundCoord(c, precision));\n                    es.push([k1, k2, f.properties]);\n                }\n            });\n\n            if (i % 1000 === 0 && options.progress) {\n                options.progress('topo:edges', i, fs.length);\n            }\n\n            return es;\n        }, []);\n\n    return {\n        vertices: vertices,\n        edges: edges\n    };\n}\n","module.exports = __webpack_public_path__ + \"static/media/start.2b3a6e15.svg\";","module.exports = __webpack_public_path__ + \"static/media/finish.b336a83d.svg\";","module.exports = __webpack_public_path__ + \"static/media/business.e87899ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/bicycle.971f6a4f.svg\";","module.exports = __webpack_public_path__ + \"static/media/hiking.eb071ea3.svg\";","module.exports = __webpack_public_path__ + \"static/media/tent.051bcc3a.svg\";","module.exports = __webpack_public_path__ + \"static/media/hut.4687401e.svg\";","module.exports = __webpack_public_path__ + \"static/media/town.5c095e44.svg\";","module.exports = __webpack_public_path__ + \"static/media/water.1006b328.svg\";","module.exports = __webpack_public_path__ + \"static/media/attraction.cb8356bf.svg\";","module.exports = __webpack_public_path__ + \"static/media/vehicle.10d97375.svg\";","module.exports = __webpack_public_path__ + \"static/media/selected.34e4a388.svg\";","module.exports = __webpack_public_path__ + \"static/media/cafe.73792b87.svg\";","module.exports = __webpack_public_path__ + \"static/media/food.96c00f56.svg\";","module.exports = __webpack_public_path__ + \"static/media/lighthouse.ea5d0879.svg\";","module.exports = __webpack_public_path__ + \"static/media/picnic.7476be12.svg\";","module.exports = __webpack_public_path__ + \"static/media/pub.43ece9e6.svg\";","module.exports = __webpack_public_path__ + \"static/media/warning.184b1553.svg\";","module.exports = __webpack_public_path__ + \"static/media/taxi.2965450c.svg\";","module.exports = __webpack_public_path__ + \"static/media/rider.01857493.svg\";","module.exports = __webpack_public_path__ + \"static/media/hiker.e0bca492.svg\";","import L from \"leaflet\";\n\nexport const markerChoices = [\n  { id: \"taxi\", name: \"Taxi Service\" },\n  { id: \"campsite\", name: \"Campsite\" },\n  { id: \"hut\", name: \"Hut/Shelter\" },\n  { id: \"town\", name: \"Town\" },\n  { id: \"water\", name: \"Water\" },\n  { id: \"attraction\", name: \"Tourist Attraction / Point of Interest\" },\n  { id: \"vehicle\", name: \"Vehicle Access Point\" },\n  { id: \"cafe\", name: \"Cafe\" },\n  { id: \"pub\", name: \"Pub\" },\n  { id: \"restaurant\", name: \"Restaurant\" },\n  { id: \"lighthouse\", name: \"Lighthouse\" },\n  { id: \"picnic_area\", name: \"Picnic Area\" },\n  { id: \"warning\", name: \"Warning\" }\n];\n\n\nexport const start = new L.Icon({\n  iconUrl: require(\"./icons/start.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nexport const finish = new L.Icon({\n  iconUrl: require(\"./icons/finish.svg\"),\n  iconSize: new L.Point(30, 35),\n  className: null\n});\n\nconst business = new L.Icon({\n  iconUrl: require(\"./icons/business.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const bicycle = new L.Icon({\n  iconUrl: require(\"./icons/bicycle.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const walking = new L.Icon({\n  iconUrl: require(\"./icons/hiking.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nconst campSite = new L.Icon({\n  iconUrl: require(\"./icons/tent.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nconst hut = new L.Icon({\n  iconUrl: require(\"./icons/hut.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nconst town = new L.Icon({\n  iconUrl: require(\"./icons/town.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nconst water = new L.Icon({\n  iconUrl: require(\"./icons/water.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nconst attraction = new L.Icon({\n  iconUrl: require(\"./icons/attraction.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nconst vehicle = new L.Icon({\n  iconUrl: require(\"./icons/vehicle.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const selected = new L.Icon({\n  iconUrl: require(\"./icons/selected.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const cafe = new L.Icon({\n  iconUrl: require(\"./icons/cafe.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const restaurant = new L.Icon({\n  iconUrl: require(\"./icons/food.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const lighthouse = new L.Icon({\n  iconUrl: require(\"./icons/lighthouse.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const picnicArea = new L.Icon({\n  iconUrl: require(\"./icons/picnic.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const pub = new L.Icon({\n  iconUrl: require(\"./icons/pub.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const warning = new L.Icon({\n  iconUrl: require(\"./icons/warning.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const taxi = new L.Icon({\n  iconUrl: require(\"./icons/taxi.svg\"),\n  iconSize: new L.Point(25, 30),\n  className: null\n});\n\nexport const rider = new L.Icon({\n    iconUrl: require(\"./icons/rider.svg\"),\n    iconSize: new L.Point(25, 30),\n    className: null\n});\n\nexport const hiker  = new L.Icon({\n    iconUrl: require(\"./icons/hiker.svg\"),\n    iconSize: new L.Point(25, 30),\n    className: null\n});\n\nexport function findIcon(type) {\n  switch (type) {\n    case \"start\":\n      return start;\n    case \"finish\":\n      return finish;\n    case \"business\":\n      return business;\n    case \"bicycle\":\n      return bicycle;\n    case \"campsite\":\n      return campSite;\n    case \"hut\":\n      return hut;\n    case \"town\":\n      return town;\n    case \"water\":\n      return water;\n    case \"attraction\":\n      return attraction;\n    case \"vehicle\":\n      return vehicle;\n    case \"cafe\":\n      return cafe;\n    case \"restaurant\":\n      return restaurant;\n    case \"lighthouse\":\n      return lighthouse;\n    case \"picnic_area\":\n      return picnicArea;\n    case \"pub\":\n      return pub;\n    case \"warning\":\n      return warning;\n    case \"taxi\":\n      return taxi;\n    case \"cyclist\":\n          return rider;\n    case \"hiker\":\n          return hiker;\n    default:\n      return attraction;\n  }\n}\n\nexport const food_groupings = [\"restaurant\", \"pub\", \"cafe\"];\nexport const business_groupings = [\"taxi\"];\n","export const mapStyles = [\n  { key: \"darkmatter\", pretty: \"Dark Matter - (dark theme)\" },\n  { key: \"basic\", pretty: \"Basic\" },\n  { key: \"positron\", pretty: \"Positron - (greyscale)\" },\n  { key: \"topo\", pretty: \"Topographical\" }\n];\n\nexport const DEV = false;\nexport const URLPREFIX = \"\";\n\n// export const DEV = true;\n// export const URLPREFIX = \"http://trailmaps.site:8000\";\n\n// export const DEV = false;\n// export const URLPREFIX = \"\";\n","import {\n  food_groupings,\n  business_groupings\n} from \"../components/helpers/iconsData\";\nimport * as _ from \"lodash\";\n\nimport { URLPREFIX } from \"../config.js\";\nexport const FETCH_DATA_BEGIN = \"FETCH_PRODUCTS_BEGIN\";\nexport const FETCH_DATA_SUCCESS = \"FETCH_PRODUCTS_SUCCESS\";\nexport const FETCH_MARKERS_SUCCESS = \"FETCH_MARKERS_SUCCESS\";\nexport const FETCH_DATA_FAILURE = \"FETCH_PRODUCTS_FAILURE\";\nexport const CALC_DISTANCE = \"CALC_DISTANCE\";\nexport const CALC_ELEVATION = \"CALC_ELEVATION\";\nexport const STORE_CUSTOM_TRACK = \"STORE_CUSTOM_TRACK\";\nexport const CHANGE_ZOOM_LEVEL = \"CHANGE_ZOOM_LEVEL\";\nexport const CHANGE_FOCUS_POINT = \"CHANGE_FOCUS_POINT\";\nexport const FIND_TRAIL_MARKERS = \"FIND_TRAIL_MARKERS\";\nexport const FILTER_TRAIL_MARKERS = \"FILTER_TRAIL_MARKERS\";\nexport const CHANGE_TERRAIN = \"CHANGE_TERRAIN\";\nexport const SET_START_POINT = \"SET_START_POINT\";\nexport const SET_END_POINT = \"SET_END_POINT\";\nexport const STORE_FOCUS_MARKER = \"STORE_FOCUS_MARKER\";\nexport const SET_CUSTOM_DISTANCE_MARKER = \"SET_CUSTOM_DISTANCE_MARKER\";\nexport const ADD_MAP_MARKER_START = \"ADD_MAP_MARKER_START\";\nexport const ADD_MAP_MARKER_END = \"ADD_MAP_MARKER_END\";\nexport const WIPE_MARKERS_AND_PATH = \"WIPE_MARKERS_AND_PATH\";\nexport const WIPE_MARKERS = \"WIPE_MARKERS\";\nexport const ALLOW_CUSTOM_PATH = \"ALLOW_CUSTOM_PATH\";\nexport const CHANGE_SIDEBAR_DATA = \"CHANGE_SIDEBAR_DATA\";\nexport const SET_OPEN_MENUS = \"SET_OPEN_MENUS\";\nexport const OPEN_DISTANCE_TAB = \"OPEN_DISTANCE_TAB\";\nexport const FETCH_MAPS_SUCCESS = \"FETCH_MAPS_SUCCESS\";\nexport const WIPE_START_MARKER = \"WIPE_START_MARKER\";\nexport const WIPE_END_MARKER = \"WIPE_END_MARKER\";\nexport const FETCH_USERS_SUCCESS = \"FETCH_USERS_SUCCESS\";\nexport const FETCH_USERS_FAILURE = \"FETCH_USERS_FAILURE\";\nexport const TOGGLE_LIVE_TRAIL_USERS = \"TOGGLE_LIVE_TRAIL_USERS\";\nexport const SHOW_MARKER_ADD_MODAL = \"SHOW_MARKER_ADD_MODAL\";\nexport const LAT_LNG_FROM_CONTEXT = \"LAT_LNG_FROM_CONTEXT\";\nexport const SHOULD_SHOW_CONTEXT_MENU = \"SHOULD_SHOW_CONTEXT_MENU\";\nexport const FETCH_ELEVATION_LOADING = \"FETCH_ELEVATION_LOADING\";\nexport const CHANGE_ELEVATION_DATA = \"CHANGE_ELEVATION_DATA\";\n\nexport function fetchElevation(lat, lng) {\n  return dispatch => {\n    dispatch(fetchElevationLoading(true));\n    fetch(\n      `https://dev.virtualearth.net/REST/v1/Elevation/List?points=${lat},${lng}&key=Ahj6mcvlG04XGZyebUbWKYsWBAXBF18DeXctHOmwCrcxj-C4TvQKGCBmPVfnq0Z2`\n    )\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        let elevationData = json.resourceSets[0].resources[0].elevations[0];\n        dispatch(changeElevationData(elevationData));\n        dispatch(fetchElevationLoading(false));\n      })\n      .catch(error => {\n        console.error(error, \"Get elevations error\");\n      });\n  };\n}\n\nexport function fetchData(mapstring) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(URLPREFIX + \"/api/maps/\" + mapstring)\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        let clonedJson = _.cloneDeep(json);\n        let filters = [];\n        clonedJson.default_filters.forEach(filter => filters.push(filter.type));\n        clonedJson.filters = filters;\n        dispatch(changeZoomLevel(clonedJson.zoom_level));\n        dispatch(\n          changeSideBarData(clonedJson.map_blurb, clonedJson.default_image)\n        );\n        dispatch(fetchDataSuccess(clonedJson));\n        return clonedJson;\n      })\n      .catch(error => {\n        console.error(error, \"MapInfo\");\n        dispatch(fetchDataError(error));\n      });\n  };\n}\n\nexport function fetchMarkers(mapstring) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(URLPREFIX + \"/api/markers?map_alias=\" + mapstring)\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        const data = json.map(el => {\n          return {\n            marker_id: el.id,\n            marker_type: el.marker_type,\n            marker_lat: el.marker_lat,\n            marker_lng: el.marker_lng,\n            marker_info: el.marker_info,\n            marker_title: el.marker_title,\n            marker_blurb: el.marker_blurb,\n            default_image: el.default_image\n          };\n        });\n        return data;\n      })\n      .then(data => {\n        let mapMarkerTypes = [];\n        data.forEach(marker => {\n          if (\n            food_groupings.includes(marker.marker_type) &&\n            !mapMarkerTypes.includes(\"drinks & dining\")\n          ) {\n            mapMarkerTypes.push(\"drinks & dining\");\n          } else if (\n            business_groupings.includes(marker.marker_type) &&\n            !mapMarkerTypes.includes(\"trail businesses\")\n          ) {\n            mapMarkerTypes.push(\"trail businesses\");\n          } else if (\n            !mapMarkerTypes.includes(marker.marker_type) &&\n            !business_groupings.includes(marker.marker_type) &&\n            !food_groupings.includes(marker.marker_type)\n          ) {\n            mapMarkerTypes.push(marker.marker_type);\n          }\n        });\n        dispatch(findTrailMarker(mapMarkerTypes));\n        dispatch(fetchMarkerSuccess(data));\n      })\n      .catch(error => {\n        console.error(error, \"Markers\");\n        dispatch(fetchDataError(error));\n      });\n  };\n}\n\nexport function fetchOtherMaps() {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(URLPREFIX + \"/api/map_preview\")\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(data => {\n        dispatch(fetchMapsSuccess(data));\n      })\n      .catch(error => {\n        console.error(error, \"Many Maps Info\");\n        dispatch(fetchDataError(error));\n      });\n  };\n}\n\nexport function fetchTrailUsers(mapString) {\n  return dispatch => {\n    dispatch(fetchDataBegin());\n    fetch(URLPREFIX + \"/api/spotuserswithlocation?map_alias=\" + mapString)\n      .then(handleErrors)\n      .then(res => res.json())\n      .then(json => {\n        let data = [];\n        json.map(trail_user => {\n          if (trail_user.locations[0]) {\n            let difference =\n              Date.now() -\n              Date.parse(trail_user.locations[0].recorded_timestamp);\n            if (difference < 86400000 * 3 || true) {\n              //less than 3 days\n              var datestr = trail_user.locations[0].recorded_timestamp.split(\n                /[-T.]/\n              );\n              var safdat = new Date(\n                datestr.slice(0, 3).join(\"/\") + \" \" + datestr[3]\n              );\n              let date = new Date(\n                safdat\n                // Date.parse(trail_user.locations[0].recorded_timestamp)\n              );\n              data.push({\n                marker_id: trail_user.id,\n                marker_type: trail_user.user_type,\n                marker_lat: trail_user.locations[0].latitude,\n                marker_lng: trail_user.locations[0].longitude,\n                default_image: trail_user.user_picture,\n                marker_blurb: trail_user.user_blurb,\n                marker_info: [\n                  {\n                    title: \"Latest GPS Location Timestamp\",\n                    value: date.toString()\n                  }\n                ],\n                marker_title: trail_user.user_name,\n                gps_locations: trail_user.locations\n              });\n            }\n          }\n        });\n        return data;\n      })\n      .then(data => {\n        dispatch(fetchUsersSuccess(data));\n      })\n      .catch(error => {\n        console.error(error, \"Trail Users\");\n        dispatch(fetchDataError(error));\n      });\n  };\n}\n\n// Handle HTTP errors since fetch won't.\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n\nexport const fetchDataBegin = () => ({\n  type: FETCH_DATA_BEGIN\n});\n\nexport const fetchDataSuccess = initMapInfo => ({\n  type: FETCH_DATA_SUCCESS,\n  payload: { initMapInfo }\n});\n\nexport const fetchMarkerSuccess = markers => ({\n  type: FETCH_MARKERS_SUCCESS,\n  payload: { markers }\n});\n\nexport const fetchMapsSuccess = maps => ({\n  type: FETCH_MAPS_SUCCESS,\n  payload: { maps }\n});\n\nexport const fetchDataError = error => ({\n  type: FETCH_DATA_FAILURE,\n  payload: { error }\n});\n\nexport const fetchUsersSuccess = users => ({\n  type: FETCH_USERS_SUCCESS,\n  payload: { users }\n});\n\nexport const addMapMarkerStart = marker => ({\n  type: ADD_MAP_MARKER_START,\n  payload: marker\n});\n\nexport const addMapMarkerEnd = marker => ({\n  type: ADD_MAP_MARKER_END,\n  payload: marker\n});\n\nexport const changeZoomLevel = zoomLevel => ({\n  type: CHANGE_ZOOM_LEVEL,\n  payload: zoomLevel\n});\n\nexport const changeFocusPoint = newLatLng => ({\n  type: CHANGE_FOCUS_POINT,\n  payload: newLatLng\n});\n\nexport const storeDistance = marker => ({\n  type: CALC_DISTANCE,\n  payload: marker\n});\n\nexport const storeElevation = marker => ({\n  type: CALC_ELEVATION,\n  payload: marker\n});\n\nexport const storeCustomTrack = path => ({\n  type: STORE_CUSTOM_TRACK,\n  payload: path\n});\n\nexport const findTrailMarker = data => ({\n  type: FIND_TRAIL_MARKERS,\n  payload: data\n});\n\nexport const filterTrailMarkers = markerTypes => ({\n  type: FILTER_TRAIL_MARKERS,\n  payload: markerTypes\n});\n\nexport const changeTerrain = terrainKey => ({\n  type: CHANGE_TERRAIN,\n  payload: terrainKey\n});\n\nexport const setStartPoint = point => ({\n  type: SET_START_POINT,\n  payload: point\n});\n\nexport const setEndPoint = point => ({\n  type: SET_END_POINT,\n  payload: point\n});\n\nexport const storeFocusMarker = marker => ({\n  type: STORE_FOCUS_MARKER,\n  payload: marker\n});\n\nexport const setCustomDistanceMarker = latlng => ({\n  type: SET_CUSTOM_DISTANCE_MARKER,\n  payload: latlng\n});\n\nexport const wipeMarkersAndPath = () => ({\n  type: WIPE_MARKERS_AND_PATH\n});\n\nexport const wipeMarkers = () => ({\n  type: WIPE_MARKERS\n});\n\nexport const wipeStartMarker = () => ({\n  type: WIPE_START_MARKER\n});\n\nexport const wipeEndMarker = () => ({\n  type: WIPE_END_MARKER\n});\n\nexport const allowCustomPath = bool => ({\n  type: ALLOW_CUSTOM_PATH,\n  payload: bool\n});\n\nexport const changeSideBarData = (blurb, default_image) => ({\n  type: CHANGE_SIDEBAR_DATA,\n  payload: { blurb: blurb, image: default_image }\n});\n\nexport const setOpenMenus = menuKeys => ({\n  type: SET_OPEN_MENUS,\n  payload: menuKeys\n});\n\nexport const openDistanceTab = () => ({\n  type: OPEN_DISTANCE_TAB\n});\n\nexport const toggleLiveTrailUsers = bool => ({\n  type: TOGGLE_LIVE_TRAIL_USERS,\n  payload: bool\n});\n\nexport const showMarkerAddModal = bool => ({\n  type: SHOW_MARKER_ADD_MODAL,\n  payload: bool\n});\n\nexport const setLatLngFromContextClick = object => ({\n  type: LAT_LNG_FROM_CONTEXT,\n  payload: object\n});\n\nexport const shouldShowContextMenu = bool => ({\n  type: SHOULD_SHOW_CONTEXT_MENU,\n  payload: bool\n});\n\nexport const fetchElevationLoading = bool => ({\n  type: FETCH_ELEVATION_LOADING,\n  payload: bool\n});\n\nexport const changeElevationData = data => ({\n  type: CHANGE_ELEVATION_DATA,\n  payload: data\n});\n","import {\n  ADD_MAP_MARKER_END,\n  ADD_MAP_MARKER_START,\n  ALLOW_CUSTOM_PATH,\n  CALC_DISTANCE,\n  CALC_ELEVATION,\n  CHANGE_ELEVATION_DATA,\n  CHANGE_FOCUS_POINT,\n  CHANGE_SIDEBAR_DATA,\n  CHANGE_TERRAIN,\n  CHANGE_ZOOM_LEVEL,\n  FETCH_DATA_BEGIN,\n  FETCH_DATA_FAILURE,\n  FETCH_DATA_SUCCESS,\n  FETCH_ELEVATION_LOADING,\n  FETCH_MAPS_SUCCESS,\n  FETCH_MARKERS_SUCCESS,\n  FETCH_USERS_FAILURE,\n  FETCH_USERS_SUCCESS,\n  FILTER_TRAIL_MARKERS,\n  FIND_TRAIL_MARKERS,\n  LAT_LNG_FROM_CONTEXT,\n  OPEN_DISTANCE_TAB,\n  SET_CUSTOM_DISTANCE_MARKER,\n  SET_END_POINT,\n  SET_OPEN_MENUS,\n  SET_START_POINT,\n  SHOULD_SHOW_CONTEXT_MENU,\n  SHOW_MARKER_ADD_MODAL,\n  STORE_CUSTOM_TRACK,\n  STORE_FOCUS_MARKER,\n  TOGGLE_LIVE_TRAIL_USERS,\n  WIPE_END_MARKER,\n  WIPE_MARKERS,\n  WIPE_MARKERS_AND_PATH,\n  WIPE_START_MARKER\n} from \"./actions\";\n\nconst initialState = {\n  data: [],\n  loadingTrack: true,\n  loadingMarkers: true,\n  error: null,\n  poiMarkers: [],\n  distancePoint: {},\n  mapMarkerTypes: [],\n  distance: 0,\n  elevation: [],\n  customDistance: [],\n  customPath: {},\n  terrain: \"topo\",\n  zoom: 10,\n  center: 0,\n  filters: [],\n  startPoint: {},\n  endPoint: {},\n  focusMarker: {},\n  customDistanceMarker: [],\n  mapMarkerStart: null,\n  mapMarkerEnd: null,\n  allowCustomPath: false,\n  sideBarImage: null,\n  sideBarBlurb: null,\n  openKeys: [\"menu\", \"sub6\"],\n  allMaps: [],\n  showLiveTrailUsers: true,\n  liveTrailUsers: [],\n  focusTrailUser: null,\n  shouldShowModal: false,\n  latLngFromContext: { lat: 0, lng: 0 },\n  shouldShowContextMenuStatus: false,\n  fetchElevationLoading: true,\n  elevationData: 0\n};\n\nexport default function dataReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_DATA_BEGIN:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n\n    case FETCH_DATA_SUCCESS:\n      return {\n        ...state,\n        loadingTrack: false,\n        data: action.payload.initMapInfo,\n        center: [\n          action.payload.initMapInfo.startpointlat,\n          action.payload.initMapInfo.startpointlng\n        ],\n        filters: action.payload.initMapInfo.filters\n      };\n\n    case FETCH_MARKERS_SUCCESS:\n      return {\n        ...state,\n        loadingMarkers: false,\n        poiMarkers: action.payload.markers\n      };\n\n    case FETCH_MAPS_SUCCESS:\n      return {\n        ...state,\n        allMaps: action.payload.maps\n      };\n\n    case FETCH_USERS_SUCCESS:\n      return {\n        ...state,\n        loadingMarkers: false,\n        liveTrailUsers: action.payload.users\n      };\n\n    case FETCH_USERS_FAILURE:\n      return {\n        ...state,\n        error: action.payload.error,\n        liveTrailUsers: []\n      };\n\n    case FETCH_DATA_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload.error,\n        data: []\n      };\n\n    case ADD_MAP_MARKER_START:\n      return {\n        ...state,\n        mapMarkerStart: action.payload\n      };\n\n    case ADD_MAP_MARKER_END:\n      return {\n        ...state,\n        mapMarkerEnd: action.payload\n      };\n    case CALC_DISTANCE:\n      return {\n        ...state,\n        customDistance: [...state.customDistance, action.payload]\n      };\n    case CALC_ELEVATION:\n      return {\n        ...state,\n        mapMarkers: [...state.mapMarkers, action.payload]\n      };\n    case STORE_CUSTOM_TRACK:\n      return {\n        ...state,\n        customPath: {\n          path: action.payload.path,\n          distance: action.payload.distance,\n          elevationGain: action.payload.elevationGain,\n          elevationLoss: action.payload.elevationLoss,\n          elevationChartData: action.payload.chartData\n        }\n      };\n    case CHANGE_ZOOM_LEVEL:\n      return {\n        ...state,\n        zoom: action.payload\n      };\n\n    case CHANGE_FOCUS_POINT:\n      return {\n        ...state,\n        center: action.payload\n      };\n\n    case FIND_TRAIL_MARKERS:\n      return {\n        ...state,\n        mapMarkerTypes: action.payload\n      };\n\n    case FILTER_TRAIL_MARKERS:\n      return {\n        ...state,\n        filters: action.payload\n      };\n\n    case CHANGE_TERRAIN:\n      return {\n        ...state,\n        terrain: action.payload\n      };\n\n    case SET_START_POINT:\n      return {\n        ...state,\n        startPoint: action.payload\n      };\n\n    case SET_END_POINT:\n      return {\n        ...state,\n        endPoint: action.payload\n      };\n\n    case STORE_FOCUS_MARKER:\n      return {\n        ...state,\n        focusMarker: action.payload\n      };\n\n    case SET_CUSTOM_DISTANCE_MARKER:\n      return {\n        ...state,\n        customDistanceMarker: action.payload\n      };\n\n    case WIPE_MARKERS_AND_PATH:\n      return {\n        ...state,\n        mapMarkerStart: null,\n        mapMarkerEnd: null,\n        customPath: {},\n        customDistance: [],\n        startPoint: {},\n        endPoint: {}\n      };\n\n    case WIPE_MARKERS:\n      return {\n        ...state,\n        mapMarkerStart: null,\n        mapMarkerEnd: null\n      };\n\n    case WIPE_START_MARKER:\n      return {\n        ...state,\n        mapMarkerStart: null\n      };\n\n    case WIPE_END_MARKER:\n      return {\n        ...state,\n        mapMarkerEnd: null\n      };\n\n    case ALLOW_CUSTOM_PATH:\n      return {\n        ...state,\n        allowCustomPath: action.payload\n      };\n\n    case CHANGE_SIDEBAR_DATA:\n      return {\n        ...state,\n        sideBarImage: action.payload.image,\n        sideBarBlurb: action.payload.blurb\n      };\n\n    case SET_OPEN_MENUS:\n      return {\n        ...state,\n        openKeys: action.payload\n      };\n\n    case OPEN_DISTANCE_TAB:\n      return {\n        ...state,\n        openKeys: [...state.openKeys, \"distanceTab\"]\n      };\n    default:\n      return state;\n\n    case TOGGLE_LIVE_TRAIL_USERS:\n      return {\n        ...state,\n        showLiveTrailUsers: action.payload\n      };\n\n    case SHOW_MARKER_ADD_MODAL:\n      return {\n        ...state,\n        shouldShowModal: action.payload\n      };\n\n    case LAT_LNG_FROM_CONTEXT:\n      return {\n        ...state,\n        latLngFromContext: action.payload\n      };\n\n    case SHOULD_SHOW_CONTEXT_MENU:\n      return {\n        ...state,\n        shouldShowContextMenuStatus: action.payload\n      };\n\n    case FETCH_ELEVATION_LOADING:\n      return {\n        ...state,\n        fetchElevationLoading: action.payload\n      };\n\n    case CHANGE_ELEVATION_DATA:\n      return {\n        ...state,\n        elevationData: action.payload\n      };\n  }\n}\n","import findPath from './dijkstra'\nimport preprocess from './preprocessor'\nimport compactor from './compactor'\nimport roundCoord from './round-coord'\n\nexport function PathFinder(graph, options) {\n  options = options || {}\n\n  if (!graph.compactedVertices) {\n    graph = preprocess(graph, options)\n  }\n\n  this._graph = graph\n  this._keyFn =\n    options.keyFn ||\n    function(c) {\n      return c.join(',')\n    }\n  this._precision = options.precision || 1e-5\n  this._options = options\n\n  if (\n    Object.keys(this._graph.compactedVertices).filter(function(k) {\n      return k !== 'edgeData'\n    }).length === 0\n  ) {\n    throw new Error(\n      'Compacted graph contains no forks (topology has no intersections).'\n    )\n  }\n}\n\nPathFinder.prototype = {\n  findPath: function(a, b) {\n    var start = this._keyFn(\n        roundCoord(a.geometry.coordinates, this._precision)\n      ),\n      finish = this._keyFn(roundCoord(b.geometry.coordinates, this._precision))\n\n    // We can't find a path if start or finish isn't in the\n    // set of non-compacted vertices\n    if (!this._graph.vertices[start] || !this._graph.vertices[finish]) {\n      return null\n    }\n\n    var phantomStart = this._createPhantom(start)\n    var phantomEnd = this._createPhantom(finish)\n\n    var path = findPath(this._graph.compactedVertices, start, finish)\n\n    if (path) {\n      var weight = path[0]\n      path = path[1]\n      return {\n        path: path\n          .reduce(\n            function buildPath(cs, v, i, vs) {\n              if (i > 0) {\n                cs = cs.concat(this._graph.compactedCoordinates[vs[i - 1]][v])\n              }\n\n              return cs\n            }.bind(this),\n            []\n          )\n          .concat([this._graph.sourceVertices[finish]]),\n        weight: weight,\n        edgeDatas: this._graph.compactedEdges\n          ? path.reduce(\n              function buildEdgeData(eds, v, i, vs) {\n                if (i > 0) {\n                  eds.push({\n                    reducedEdge: this._graph.compactedEdges[vs[i - 1]][v]\n                  })\n                }\n\n                return eds\n              }.bind(this),\n              []\n            )\n          : undefined\n      }\n    } else {\n      return null\n    }\n\n    this._removePhantom(phantomStart)\n    this._removePhantom(phantomEnd)\n  },\n\n  serialize: function() {\n    return this._graph\n  },\n\n  _createPhantom: function(n) {\n    if (this._graph.compactedVertices[n]) return null\n\n    var phantom = compactor.compactNode(\n      n,\n      this._graph.vertices,\n      this._graph.compactedVertices,\n      this._graph.sourceVertices,\n      this._graph.edgeData,\n      true,\n      this._options\n    )\n    this._graph.compactedVertices[n] = phantom.edges\n    this._graph.compactedCoordinates[n] = phantom.coordinates\n\n    if (this._graph.compactedEdges) {\n      this._graph.compactedEdges[n] = phantom.reducedEdges\n    }\n\n    Object.keys(phantom.incomingEdges).forEach(\n      function(neighbor) {\n        this._graph.compactedVertices[neighbor][n] =\n          phantom.incomingEdges[neighbor]\n        this._graph.compactedCoordinates[neighbor][n] =\n          phantom.incomingCoordinates[neighbor]\n        if (this._graph.compactedEdges) {\n          this._graph.compactedEdges[neighbor][n] =\n            phantom.reducedEdges[neighbor]\n        }\n      }.bind(this)\n    )\n\n    return n\n  },\n\n  _removePhantom: function(n) {\n    if (!n) return\n\n    Object.keys(this._graph.compactedVertices[n]).forEach(\n      function(neighbor) {\n        delete this._graph.compactedVertices[neighbor][n]\n      }.bind(this)\n    )\n    Object.keys(this._graph.compactedCoordinates[n]).forEach(\n      function(neighbor) {\n        delete this._graph.compactedCoordinates[neighbor][n]\n      }.bind(this)\n    )\n    if (this._graph.compactedEdges) {\n      Object.keys(this._graph.compactedEdges[n]).forEach(\n        function(neighbor) {\n          delete this._graph.compactedEdges[neighbor][n]\n        }.bind(this)\n      )\n    }\n\n    delete this._graph.compactedVertices[n]\n    delete this._graph.compactedCoordinates[n]\n\n    if (this._graph.compactedEdges) {\n      delete this._graph.compactedEdges[n]\n    }\n  }\n}\n","import topology from './topology'\nimport compactor from './compactor'\nimport distance from '@turf/distance'\nimport roundCoord from './round-coord'\nimport point from 'turf-point'\n\nexport default function preprocess(graph, options) {\n  options = options || {}\n  var weightFn =\n      options.weightFn ||\n      function defaultWeightFn(a, b) {\n        return distance(point(a), point(b))\n      },\n    topo\n\n  if (graph.type === 'FeatureCollection') {\n    // Graph is GeoJSON data, create a topology from it\n    topo = topology(graph, options)\n  } else if (graph.edges) {\n    // Graph is a preprocessed topology\n    topo = graph\n  }\n\n  var graph = topo.edges.reduce(\n    function buildGraph(g, edge, i, es) {\n      var a = edge[0],\n        b = edge[1],\n        props = edge[2],\n        w = weightFn(topo.vertices[a], topo.vertices[b], props),\n        makeEdgeList = function makeEdgeList(node) {\n          if (!g.vertices[node]) {\n            g.vertices[node] = {}\n            if (options.edgeDataReduceFn) {\n              g.edgeData[node] = {}\n            }\n          }\n        },\n        concatEdge = function concatEdge(startNode, endNode, weight) {\n          var v = g.vertices[startNode]\n          v[endNode] = weight\n          if (options.edgeDataReduceFn) {\n            g.edgeData[startNode][endNode] = options.edgeDataReduceFn(\n              options.edgeDataSeed,\n              props\n            )\n          }\n        }\n\n      if (w) {\n        makeEdgeList(a)\n        makeEdgeList(b)\n        if (w instanceof Object) {\n          if (w.forward) {\n            concatEdge(a, b, w.forward)\n          }\n          if (w.backward) {\n            concatEdge(b, a, w.backward)\n          }\n        } else {\n          concatEdge(a, b, w)\n          concatEdge(b, a, w)\n        }\n      }\n\n      if (i % 1000 === 0 && options.progress) {\n        options.progress('edgeweights', i, es.length)\n      }\n\n      return g\n    },\n    { edgeData: {}, vertices: {} }\n  )\n\n  var compact = compactor.compactGraph(\n    graph.vertices,\n    topo.vertices,\n    graph.edgeData,\n    options\n  )\n\n  return {\n    vertices: graph.vertices,\n    edgeData: graph.edgeData,\n    sourceVertices: topo.vertices,\n    compactedVertices: compact.graph,\n    compactedCoordinates: compact.coordinates,\n    compactedEdges: options.edgeDataReduceFn ? compact.reducedEdges : null\n  }\n}\n","import bearing from '@turf/bearing'\nimport distance from '@turf/distance'\nimport destination from '@turf/destination'\nimport lineIntersects from '@turf/line-intersect'\nimport { flattenEach } from '@turf/meta'\nimport { isObject, lineString, point } from '@turf/helpers'\nimport { getCoords } from '@turf/invariant'\n\n/**\n * Takes a {@link Point} and a {@link LineString} and calculates the closest Point on the (Multi)LineString.\n *\n * @name nearestPointOnLine\n * @param {Geometry|Feature<LineString|MultiLineString>} lines lines to snap to\n * @param {Geometry|Feature<Point>|number[]} pt point to snap from\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} closest point on the `line` to `point`. The properties object will contain three values: `index`: closest point was found on nth line part, `dist`: distance between pt and the closest point, `location`: distance along the line between start and the closest point.\n * @example\n * var line = turf.lineString([\n *     [-77.031669, 38.878605],\n *     [-77.029609, 38.881946],\n *     [-77.020339, 38.884084],\n *     [-77.025661, 38.885821],\n *     [-77.021884, 38.889563],\n *     [-77.019824, 38.892368]\n * ]);\n * var pt = turf.point([-77.037076, 38.884017]);\n *\n * var snapped = turf.nearestPointOnLine(line, pt, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line, pt, snapped];\n * snapped.properties['marker-color'] = '#00f';\n */\nfunction nearestPointOnLine(lines, pt, options) {\n  // Optional parameters\n  options = options || {}\n  if (!isObject(options)) throw new Error('options is invalid')\n\n  // validation\n  var type = lines.geometry ? lines.geometry.type : lines.type\n  if (type !== 'LineString' && type !== 'MultiLineString') {\n    throw new Error('lines must be LineString or MultiLineString')\n  }\n\n  var closestPt = point([Infinity, Infinity], {\n    dist: Infinity\n  })\n\n  var length = 0.0\n  flattenEach(lines, function(line) {\n    var coords = getCoords(line)\n\n    for (var i = 0; i < coords.length - 1; i++) {\n      //start\n      var start = point(coords[i])\n      start.properties.dist = distance(pt, start, options)\n      //stop\n      var stop = point(coords[i + 1])\n      stop.properties.dist = distance(pt, stop, options)\n      // sectionLength\n      var sectionLength = distance(start, stop, options)\n      //perpendicular\n      var heightDistance = Math.max(start.properties.dist, stop.properties.dist)\n      var direction = bearing(start, stop)\n      var perpendicularPt1 = destination(\n        pt,\n        heightDistance,\n        direction + 90,\n        options\n      )\n      var perpendicularPt2 = destination(\n        pt,\n        heightDistance,\n        direction - 90,\n        options\n      )\n      var intersect = lineIntersects(\n        lineString([\n          perpendicularPt1.geometry.coordinates,\n          perpendicularPt2.geometry.coordinates\n        ]),\n        lineString([start.geometry.coordinates, stop.geometry.coordinates])\n      )\n      var intersectPt = null\n      if (intersect.features.length > 0) {\n        intersectPt = intersect.features[0]\n        intersectPt.properties.dist = distance(pt, intersectPt, options)\n        intersectPt.properties.location =\n          length + distance(start, intersectPt, options)\n      }\n\n      if (start.properties.dist < closestPt.properties.dist) {\n        closestPt = start\n        closestPt.properties.index = coords[i]\n        closestPt.properties.location = length\n      }\n      if (stop.properties.dist < closestPt.properties.dist) {\n        closestPt = stop\n        closestPt.properties.index = coords[i + 1]\n        closestPt.properties.location = length + sectionLength\n      }\n      if (\n        intersectPt &&\n        intersectPt.properties.dist < closestPt.properties.dist\n      ) {\n        closestPt = intersectPt\n        closestPt.properties.index = coords[i]\n      }\n      // update length\n      length += sectionLength\n    }\n  })\n\n  return closestPt\n}\n\nexport default nearestPointOnLine\n","import distance from \"@turf/distance\";\nimport along from \"@turf/along\";\nimport {lineString, multiLineString, point} from \"@turf/helpers\";\nimport combine from \"@turf/combine\";\nimport {PathFinder} from \"./geojson-path-finder/index\";\nimport nearestPointOnLine from \"./nearest-point-on-line\";\nimport _ from \"lodash\";\n\nexport function findPointAlongLine(path, distance) {\n  return along(path, distance);\n}\n\nfunction findDistance(path) {\n  let customDistance = 0;\n  let chartData = [];\n  let elevationGain = 0;\n  let elevationLoss = 0;\n  let i;\n  if (path.length > 1) {\n    for (i = 0; i < path.length; i++) {\n      if (path[i - 1]) {\n        customDistance += distance(path[i - 1], path[i]);\n        let absLossOrGain = 0;\n        if (i > 0 && i % 11 === 0) {\n          //sample every 11th point\n          absLossOrGain = Math.abs(path[i][2] - path[i - 11][2]);\n          if (absLossOrGain > 5) {\n            //filter out the noise\n            if (path[i - 11][2] < path[i][2]) {\n              //if the previous point is lower than the current point, it's elevation gain, otherwise it's elevation loss\n              elevationGain += absLossOrGain;\n            } else {\n              elevationLoss += absLossOrGain;\n            }\n          }\n        }\n        chartData.push({\n          elevation: path[i][2],\n          distance: customDistance,\n          coords: [path[i][1], path[i][0]]\n        });\n      } else {\n        customDistance = 0;\n        chartData.push({\n          elevation: path[i][2],\n          distance: customDistance,\n          coords: [path[i][1], path[i][0]]\n        });\n      }\n    }\n  }\n  return {\n    distance: customDistance,\n    chartData: chartData,\n    elevationGain: elevationGain,\n    elevationLoss: elevationLoss\n  };\n}\n\nexport function isMarkersValid(geoJsonPath, start, finish) {\n  let { closestStart, closestFinish } = closest(geoJsonPath, start, finish);\n  let startDistance = distance(\n    [\n      closestStart.geometry.coordinates[1],\n      closestStart.geometry.coordinates[0]\n    ],\n    [start.marker_lat, start.marker_lng]\n  );\n  let endDistance = distance(\n    [\n      closestFinish.geometry.coordinates[1],\n      closestFinish.geometry.coordinates[0]\n    ],\n    [finish.marker_lat, finish.marker_lng]\n  );\n  return startDistance < 10 && endDistance < 10;\n}\n\nfunction closest(geoJsonPath, start, finish) {\n  let MultiLineString = combine(geoJsonPath);\n  //pull out the coordinates\n  let line = MultiLineString.features[0].geometry.coordinates;\n  //turf convert to linestring\n  let lineString = multiLineString(line);\n  //find the closest start point from mouse click to GEOJSON line\n  let closestStart = nearestPointOnLine(\n    lineString,\n    point([start.marker_lng, start.marker_lat])\n  );\n\n  let closestFinish = nearestPointOnLine(\n    lineString,\n    point([finish.marker_lng, finish.marker_lat])\n  );\n  return { closestStart: closestStart, closestFinish: closestFinish };\n}\n\nexport function findPath(geoJsonPath, start, finish) {\n  let { closestStart, closestFinish } = closest(geoJsonPath, start, finish);\n  //grab the actual coordinates I jammed into the index (uses a customised version of turf nearestPointOnLine)\n  closestStart = point(closestStart.properties.index);\n  closestFinish = point(closestFinish.properties.index);\n  if (_.isEqual(closestStart, closestFinish)) {\n    return {\n      path: null,\n      distance: 0,\n      chartData: null,\n      elevationGain: 0,\n      elevationLoss: 0\n    };\n  }\n  let pathFinder = new PathFinder(geoJsonPath, { precision: 1e-5 }); //exact match is five decimal places, only leaving this in here for reference\n  let path = pathFinder.findPath(closestStart, closestFinish);\n  let customDistance = findDistance(path.path);\n  //returns a linestring so leaflet can use it as a geojson layer\n  let linestring = lineString(path.path);\n  let returnPath = {\n    path: linestring,\n    distance: customDistance.distance,\n    chartData: customDistance.chartData,\n    elevationGain: customDistance.elevationGain,\n    elevationLoss: customDistance.elevationLoss\n  };\n  return returnPath;\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport {\n  setStartPoint,\n  setEndPoint,\n  openDistanceTab,\n  wipeStartMarker,\n  wipeEndMarker\n} from \"../redux/actions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFlag } from \"@fortawesome/free-regular-svg-icons\";\nimport { faFlagCheckered } from \"@fortawesome/free-solid-svg-icons\";\nimport { Divider } from \"antd\";\nimport { findIcon, selected } from \"./helpers/iconsData\";\nimport { Marker, Popup } from \"react-leaflet\";\nimport { Textfit } from \"react-textfit\";\n\nexport class PoiMarker extends Component {\n  markerClick = point => {\n    let marker = _.cloneDeep(this.props.marker);\n    if (!this.props.openKeys.includes(\"distanceTab\")) {\n      this.props.openDistanceTab();\n    }\n    if (point === \"startPoint\") {\n      this.props.wipeMarkerStart();\n      this.props.setStartPoint(marker);\n    } else {\n      this.props.wipeMarkerEnd();\n      this.props.setEndPoint(marker);\n    }\n  };\n\n  switchIcon = marker => {\n    if (this.props.startPoint === marker || this.props.endPoint === marker) {\n      return selected;\n    } else {\n      return findIcon(marker.marker_type);\n    }\n  };\n  render() {\n    const { marker } = this.props;\n    const icon = this.switchIcon(marker);\n    const info = marker.marker_info;\n    const title = marker.marker_title;\n    return (\n      <Marker\n        key={marker.id}\n        position={[marker.marker_lat, marker.marker_lng]}\n        icon={icon}\n        onClick={() => {\n          this.props.onClick(marker);\n        }}\n      >\n        <Popup>\n          <div className=\"titleDiv\">\n            <Textfit\n              style={{ width: 120, height: 30 }}\n              className=\"title-parent\"\n            >\n              <h1> {title} </h1>\n            </Textfit>\n            <div className=\"titleSpan\">\n              <a>\n                <FontAwesomeIcon\n                  icon={faFlag}\n                  className=\"startFlag\"\n                  onClick={() => {\n                    this.markerClick(\"startPoint\");\n                  }}\n                />\n              </a>\n              <a>\n                <FontAwesomeIcon\n                  icon={faFlagCheckered}\n                  className=\"startFlag\"\n                  onClick={() => {\n                    this.markerClick(\"endPoint\");\n                  }}\n                />\n              </a>\n            </div>\n          </div>\n          <Divider style={{ marginTop: 0, marginBottom: 5 }} />\n          <div className=\"popupText\">\n            {info.map(el => {\n              return (\n                <div>\n                  <b> {el.title}: </b> {el.value}\n                </div>\n              );\n            })}\n          </div>\n        </Popup>\n      </Marker>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setStartPoint: marker => {\n    dispatch(setStartPoint(marker));\n  },\n  setEndPoint: marker => {\n    dispatch(setEndPoint(marker));\n  },\n  openDistanceTab: e => {\n    dispatch(openDistanceTab(e));\n  },\n  wipeMarkerStart: () => {\n    dispatch(wipeStartMarker());\n  },\n  wipeMarkerEnd: () => {\n    dispatch(wipeEndMarker());\n  }\n});\n\nconst mapStateToProps = state => ({\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  openKeys: state.openKeys\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PoiMarker);\n","import React, { Component } from \"react\";\nimport { Button, Card, Icon } from \"antd\";\nimport connect from \"react-redux/es/connect/connect\";\nimport { shouldShowContextMenu, showMarkerAddModal } from \"../redux/actions\";\n\nexport class ContextMenuApp extends Component {\n  state = { loading: true, elevation: 0 };\n\n  enableMarkerAdd = e => {\n    e.stopPropagation();\n    this.props.showMarkerAddModal(true);\n  };\n\n  onClick = () => {\n    this.props.shouldShowContextMenu(false);\n  };\n\n  render() {\n    const { lat, lng, x, y, loading, elevationData } = this.props;\n    return (\n      <div className=\"context-menu\" style={{ left: x, top: y }}>\n        <Card\n          title=\"Point Info\"\n          bordered={false}\n          extra={\n            <span>\n              <a onClick={this.onClick}>\n                <Icon type=\"close\" />\n              </a>\n            </span>\n          }\n        >\n          <p>\n            <b> Lat: </b> {parseFloat(lat).toFixed(5)}\n          </p>\n          <p>\n            <b> Lng: </b> {parseFloat(lng).toFixed(5)}\n          </p>\n          <p>\n            <b>Elevation: </b>\n            {loading ? <Icon type=\"loading\" /> : elevationData + \"m\"}\n          </p>\n          <Button\n            className=\"marker-add\"\n            onClick={e => {\n              return this.enableMarkerAdd(e);\n            }}\n          >\n            Add Marker Here\n          </Button>\n        </Card>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  showMarkerAddModal: bool => {\n    dispatch(showMarkerAddModal(bool));\n  },\n  shouldShowContextMenu: bool => {\n    dispatch(shouldShowContextMenu(bool));\n  }\n});\n\nconst mapStateToProps = state => ({\n  lat: state.latLngFromContext.lat,\n  lng: state.latLngFromContext.lng,\n  loading: state.fetchElevationLoading,\n  elevationData: state.elevationData\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ContextMenuApp);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport {\n  addMapMarkerEnd,\n  addMapMarkerStart,\n  changeSideBarData,\n  openDistanceTab,\n  setEndPoint,\n  setStartPoint,\n  storeCustomTrack,\n  storeDistance,\n  storeElevation,\n  storeFocusMarker,\n  wipeMarkersAndPath,\n  setLatLngFromContextClick,\n  shouldShowContextMenu,\n  fetchElevation\n} from \"../redux/actions\";\nimport {\n  bicycle,\n  business_groupings,\n  finish,\n  food_groupings,\n  start,\n  walking\n} from \"./helpers/iconsData\";\nimport { findPath } from \"./helpers/PathCalculator\";\nimport \"leaflet/dist/leaflet.css\";\nimport { GeoJSON, Map, Marker, TileLayer, ZoomControl } from \"react-leaflet\";\nimport PoiMarker from \"./PoiMarker\";\nimport ContextMenu from \"./ContextMenuApp\";\n\nclass MapComponent extends Component {\n  state = { context: false, x: 0, y: 0 };\n  checkMarkers = e => {\n    if (e.originalEvent.target[\"type\"] !== \"button\") {\n      this.props.shouldShowContextMenu(false);\n    }\n    let startPointCheckEmpty = _.isEmpty(this.props.startPoint);\n    let endPointCheckEmpty = _.isEmpty(this.props.endPoint);\n    //allow a maximum of two clicks before resetting the path\n    if (this.props.allowCustomPath) {\n      if (startPointCheckEmpty) {\n        e.startEnd = \"start\";\n        this.addCustomMarker(e);\n      } else if (endPointCheckEmpty) {\n        e.startEnd = \"end\";\n        this.addCustomMarker(e);\n      } else {\n        e.startEnd = \"start\";\n        this.props.wipeMarkersAndPath();\n        this.addCustomMarker(e);\n      }\n    }\n  };\n\n  addCustomMarker(e) {\n    let newMarker = {\n      marker_title: \"Custom Map Point\",\n      marker_lat: e.latlng.lat,\n      marker_lng: e.latlng.lng\n    };\n    if (!this.props.openKeys.includes(\"distanceTab\")) {\n      this.props.openDistanceTab();\n    }\n    if (e.startEnd === \"start\") {\n      this.props.addMapMarkerStart(newMarker);\n      this.props.setStartPoint(newMarker);\n    } else {\n      this.props.addMapMarkerEnd(newMarker);\n      this.props.setEndPoint(newMarker);\n    }\n  }\n\n  draggableMarker = marker => {\n    let startPointCheckEmpty = _.isEmpty(this.props.startPoint);\n    let endPointCheckEmpty = _.isEmpty(this.props.endPoint);\n    const updatedMarker = {\n      marker_title: \"Custom Map Point\",\n      marker_lat: marker.target._latlng.lat,\n      marker_lng: marker.target._latlng.lng\n    };\n    if (marker.startEnd === \"start\") {\n      this.props.addMapMarkerStart(updatedMarker);\n      this.props.setStartPoint(updatedMarker);\n    } else {\n      this.props.addMapMarkerEnd(updatedMarker);\n      this.props.setEndPoint(updatedMarker);\n    }\n    if (!startPointCheckEmpty && !endPointCheckEmpty) {\n      //if the draggable marker is being updated on an existing path\n      this.updatePath();\n    }\n  };\n\n  updatePath = () => {\n    let pathAndDistance = findPath(\n      this.props.data.map_track,\n      this.props.startPoint,\n      this.props.endPoint\n    );\n    this.props.storeCustomTrack(pathAndDistance);\n  };\n\n  checkForCustomPath = () => {\n    //if there is a custom route to display, display it\n    if (\n      Object.keys(this.props.customPath).length &&\n      this.props.customPath.path\n    ) {\n      return (\n        <GeoJSON\n          key={this.props.customPath.elevationChartData.length}\n          data={this.props.customPath.path}\n          interactive={false}\n          color=\"red\"\n        />\n      );\n    }\n  };\n\n  shouldShowMarker = marker => {\n    let startPoint = this.props.startPoint;\n    let endPoint = this.props.endPoint;\n    let focusMarker = this.props.focusMarker;\n    if (!_.isEmpty(startPoint)) {\n      if (startPoint.marker_id === marker.marker_id) {\n        return true;\n      }\n    }\n    if (!_.isEmpty(endPoint)) {\n      if (endPoint.marker_id === marker.marker_id) {\n        return true;\n      }\n    }\n    if (!_.isEmpty(focusMarker)) {\n      let business = business_groupings.includes(marker.marker_type);\n      let food = food_groupings.includes(marker.marker_type);\n      if (\n        (focusMarker.marker_id === marker.marker_id &&\n          this.props.filters.includes(focusMarker.marker_type)) ||\n        (business && this.props.filters.includes(\"trail businesses\")) ||\n        (food && this.props.filters.includes(\"drinks & dining\"))\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  onClickMarker = marker => {\n    this.props.storeFocusMarker(marker);\n    this.props.changeSideBarData(marker.marker_blurb, marker.default_image);\n  };\n\n  filterMarkers = () => {\n    //if the marker is in the filtered list\n    let validMarkers = [];\n    this.props.poiMarkers.map(marker => {\n      let business = business_groupings.includes(marker.marker_type);\n      let food = food_groupings.includes(marker.marker_type);\n      if (\n        this.props.filters.includes(marker.marker_type) ||\n        (business && this.props.filters.includes(\"trail businesses\")) ||\n        (food && this.props.filters.includes(\"drinks & dining\")) ||\n        this.shouldShowMarker(marker)\n      ) {\n        validMarkers.push(\n          <PoiMarker marker={marker} onClick={this.onClickMarker} />\n        );\n      }\n    });\n    return validMarkers;\n  };\n\n  rightClick = event => {\n    this.setState({\n      x: event.containerPoint.x,\n      y: event.containerPoint.y\n    });\n    this.props.setLatLngFromContextClick({\n      lat: event.latlng.lat,\n      lng: event.latlng.lng\n    });\n    this.props.fetchElevation(event.latlng.lat, event.latlng.lng);\n    this.props.shouldShowContextMenu(true);\n  };\n\n  render() {\n    const {\n      data,\n      center,\n      zoom,\n      terrain,\n      customDistanceMarker,\n      mapMarkerStart,\n      mapMarkerEnd,\n      liveTrailUsers,\n      showLiveTrailUsers,\n      shouldShowContextMenuStatus\n    } = this.props;\n    const imageryUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    return (\n      <Map\n        center={center}\n        zoom={zoom}\n        className=\"map\"\n        zoomControl={false}\n        onClick={this.checkMarkers}\n        onContextMenu={this.rightClick}\n      >\n        <ZoomControl position=\"bottomright\" />\n        <TileLayer\n            url={imageryUrl}\n            attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n        />\n        <GeoJSON interactive={false} data={data.map_track} />\n\n        {this.checkForCustomPath()}\n        {this.filterMarkers().map(marker => {\n          return marker;\n        })}\n\n        {showLiveTrailUsers\n          ? //Spot users\n            liveTrailUsers.map(trailUser => {\n              return (\n                <PoiMarker marker={trailUser} onClick={this.onClickMarker} />\n              );\n            })\n          : null}\n\n        {shouldShowContextMenuStatus ? (\n          <ContextMenu x={this.state.x} y={this.state.y} />\n        ) : null}\n\n        {mapMarkerStart ? (\n          //custom markers from click event\n          <Marker\n            key={mapMarkerStart.distance}\n            position={[mapMarkerStart.marker_lat, mapMarkerStart.marker_lng]}\n            icon={start}\n            draggable={true}\n            onDragEnd={e => {\n              e.startEnd = \"start\";\n              return this.draggableMarker(e);\n            }}\n            className=\"map-marker-custom\"\n          />\n        ) : null}\n\n        {mapMarkerEnd ? (\n          //custom markers from click event\n          <Marker\n            key={mapMarkerEnd.distance}\n            position={[mapMarkerEnd.marker_lat, mapMarkerEnd.marker_lng]}\n            icon={finish}\n            draggable={true}\n            onDragEnd={e => {\n              e.startEnd = \"end\";\n              return this.draggableMarker(e);\n            }}\n            className=\"map-marker-custom\"\n          />\n        ) : null}\n\n        {customDistanceMarker.length ? (\n          //custom marker from elevation click hover\n          <Marker\n            key={1}\n            position={customDistanceMarker}\n            icon={\n              this.props.data.map_type.toLowerCase() === \"cycling\"\n                ? bicycle\n                : walking\n            }\n          />\n        ) : null}\n      </Map>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  addMapMarkerStart: e => {\n    dispatch(addMapMarkerStart(e));\n  },\n  addMapMarkerEnd: e => {\n    dispatch(addMapMarkerEnd(e));\n  },\n  storeDistance: distance => {\n    dispatch(storeDistance(distance));\n  },\n  calcElevation: elevation => {\n    dispatch(storeElevation(elevation));\n  },\n  storeCustomTrack: path => {\n    dispatch(storeCustomTrack(path));\n  },\n  wipeMarkersAndPath: () => {\n    dispatch(wipeMarkersAndPath());\n  },\n  openDistanceTab: () => {\n    dispatch(openDistanceTab());\n  },\n  changeSideBarData: (blurb, image) => {\n    dispatch(changeSideBarData(blurb, image));\n  },\n  storeFocusMarker: marker => {\n    dispatch(storeFocusMarker(marker));\n  },\n  setStartPoint: marker => {\n    dispatch(setStartPoint(marker));\n  },\n  setEndPoint: marker => {\n    dispatch(setEndPoint(marker));\n  },\n  setLatLngFromContextClick: latLng => {\n    dispatch(setLatLngFromContextClick(latLng));\n  },\n  shouldShowContextMenu: bool => {\n    dispatch(shouldShowContextMenu(bool));\n  },\n  fetchElevation: (lat, lng) => {\n    dispatch(fetchElevation(lat, lng));\n  }\n});\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  poiMarkers: state.poiMarkers,\n  customDistance: state.customDistance,\n  customPath: state.customPath,\n  center: state.center,\n  zoom: state.zoom,\n  filters: state.filters,\n  terrain: state.terrain,\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  focusMarker: state.focusMarker,\n  customDistanceMarker: state.customDistanceMarker,\n  mapMarkerStart: state.mapMarkerStart,\n  mapMarkerEnd: state.mapMarkerEnd,\n  allowCustomPath: state.allowCustomPath,\n  openKeys: state.openKeys,\n  showLiveTrailUsers: state.showLiveTrailUsers,\n  liveTrailUsers: state.liveTrailUsers,\n  shouldShowContextMenuStatus: state.shouldShowContextMenuStatus,\n  shouldShowModal: state.shouldShowModal\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MapComponent);\n","import {\n  Form,\n  InputNumber,\n  Input,\n  Modal,\n  Select,\n  Upload,\n  Icon,\n  message,\n  Button,\n  Tooltip\n} from \"antd\";\nimport React, { Component } from \"react\";\nimport { markerChoices } from \"./helpers/iconsData\";\nimport { shouldShowContextMenu, showMarkerAddModal } from \"../redux/actions\";\nimport connect from \"react-redux/es/connect/connect\";\nimport { URLPREFIX } from \"../config\";\n\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nconst CollectionCreateForm = Form.create({ name: \"form_in_modal\" })(\n  class extends React.Component {\n    render() {\n      const { visible, onCancel, onCreate, form, lat, lng } = this.props;\n      const { getFieldDecorator } = form;\n\n      const normFile = e => {\n        if (Array.isArray(e)) {\n          return e;\n        }\n        return e && e.fileList;\n      };\n\n      return (\n        <Modal\n          visible={visible}\n          title=\"Add New Marker\"\n          okText=\"Submit for Approval\"\n          onCancel={onCancel}\n          onOk={onCreate}\n        >\n          <Form layout=\"vertical\">\n            <Form.Item\n              label={\n                <span>\n                  Marker name\n                  <Tooltip title=\"A short name for the marker to appear on the map. Do not include any information about distance or elevation.\">\n                    <Icon className={\"helper-icon\"} type=\"question-circle\" />\n                  </Tooltip>\n                </span>\n              }\n            >\n              {getFieldDecorator(\"marker_title\", {\n                rules: [\n                  {\n                    required: true,\n                    message: \"Please input the name of the marker\"\n                  }\n                ]\n              })(<Input />)}\n            </Form.Item>\n            <span>\n              <Form.Item style={{ display: \"inline-block\" }} label=\"Latitude\">\n                {getFieldDecorator(\"lat\", {\n                  initialValue: lat.toFixed(5)\n                })(<InputNumber style={{ width: 200 }} disabled={true} />)}\n              </Form.Item>\n              <Form.Item\n                style={{ display: \"inline-block\", paddingLeft: 10 }}\n                label=\"Longitude\"\n              >\n                {getFieldDecorator(\"lng\", {\n                  initialValue: lng.toFixed(5)\n                })(<InputNumber style={{ width: 200 }} disabled={true} />)}\n              </Form.Item>\n            </span>\n            <Form.Item\n              label={\n                <span>\n                  Type of marker\n                  <Tooltip title=\"Choose from one of the following options. Different icons appear for each type\">\n                    <Icon className={\"helper-icon\"} type=\"question-circle\" />\n                  </Tooltip>\n                </span>\n              }\n              hasFeedback\n            >\n              {getFieldDecorator(\"marker_type\", {\n                rules: [\n                  {\n                    required: true,\n                    message: \"Please select the type of marker\"\n                  }\n                ]\n              })(\n                <Select\n                  showSearch\n                  dropdownClassName={\"marker-type-dropdown\"}\n                  placeholder=\"Type of marker\"\n                >\n                  {markerChoices.map(marker => {\n                    return <Option value={marker.id}> {marker.name} </Option>;\n                  })}\n                </Select>\n              )}\n            </Form.Item>\n            <Form.Item\n              label={\n                <span>\n                  Popup Information\n                  <Tooltip title=\"This information appears above the marker when it's clicked. Do not include any information about distance or elevation.\">\n                    <Icon className={\"helper-icon\"} type=\"question-circle\" />\n                  </Tooltip>\n                </span>\n              }\n            >\n              {getFieldDecorator(\"marker_info\", {\n                rules: [\n                  {\n                    required: true,\n                    message: \"Marker popup information is required\"\n                  }\n                ]\n              })(<TextArea rows={2} />)}\n            </Form.Item>\n            <Form.Item\n              label={\n                <span>\n                  Sidebar Description\n                  <Tooltip title=\"This information appears on the collapsible sidebar. Do not include any information about distance or elevation.\">\n                    <Icon className={\"helper-icon\"} type=\"question-circle\" />\n                  </Tooltip>\n                </span>\n              }\n            >\n              {getFieldDecorator(\"marker_blurb\", {\n                rules: [\n                  {\n                    required: true,\n                    message: \"A short sidebar blurb is required\"\n                  }\n                ]\n              })(<TextArea rows={3} />)}\n            </Form.Item>\n            <Form.Item\n              label={\n                <span>\n                  Image\n                  <Tooltip title=\"An image is not required but is handy!\">\n                    <Icon className={\"helper-icon\"} type=\"question-circle\" />\n                  </Tooltip>\n                </span>\n              }\n            >\n              <div className=\"dropbox\">\n                {getFieldDecorator(\"default_image\", {\n                  valuePropName: \"fileList\",\n                  getValueFromEvent: normFile\n                })(\n                  <Upload\n                    {...this.props.imageProps}\n                    name=\"file\"\n                    action=\"https://api.cloudinary.com/v1_1/dqlvslhyi/image/upload\"\n                  >\n                    <Button>\n                      <Tooltip title=\"prompt text\">\n                        <Icon className={\"helper-icon\"} type=\"upload\" /> Click\n                        to upload\n                      </Tooltip>\n                    </Button>\n                  </Upload>\n                )}\n              </div>\n            </Form.Item>\n          </Form>\n        </Modal>\n      );\n    }\n  }\n);\n\nclass MarkerModal extends Component {\n  state = {\n    visible: true\n  };\n\n  postNewMarker = async formData => {\n    const settings = {\n      method: \"POST\",\n      headers: {\n        \"X-Requested-With\": \"XMLHttpRequest\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify(formData)\n    };\n    return await fetch(URLPREFIX + \"/api/submit_marker\", settings).then(\n      response => {\n        return response.status === 201;\n      }\n    );\n  };\n\n  handleCancel = () => {\n    this.props.dispatch(showMarkerAddModal(false));\n    this.props.dispatch(shouldShowContextMenu(false));\n  };\n\n  handleCreate = async () => {\n    this.props.dispatch(shouldShowContextMenu(false));\n    const form = this.formRef.props.form;\n    form.validateFields(async (err, values) => {\n      if (!err) {\n        values.marker_lat = parseFloat(values.lat);\n        values.marker_lng = parseFloat(values.lng);\n        values.map = this.props.data.id;\n        values.marker_info = [\n          { title: \"Information\", value: values.marker_info }\n        ];\n        if (values.default_image) {\n          values.default_image = values.default_image[0].response.url;\n        }\n        const result = await this.postNewMarker(values);\n        if (result) {\n          message.success(\n            \"Successful submission. Marker will be added pending moderator approval\"\n          );\n          this.props.dispatch(showMarkerAddModal(false));\n        } else {\n          message.error(\"Unsuccessful submission\");\n        }\n        form.resetFields();\n      }\n    });\n  };\n\n  saveFormRef = formRef => {\n    this.formRef = formRef;\n  };\n\n  render() {\n    const imageProps = {\n      name: \"file\",\n      multiple: false,\n      data: data => {\n        data.timestamp = (Date.now() / 1000) | 0;\n        data.upload_preset = \"arqsmfbb\";\n        data.api_key = \"553857945975548\";\n        return data;\n      },\n      headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n      onChange(info) {\n        const status = info.file.status;\n        if (status !== \"uploading\") {\n          console.log(info.file, info.fileList);\n        }\n        if (status === \"done\") {\n          message.success(`${info.file.name} file uploaded successfully.`);\n        } else if (status === \"error\") {\n          message.error(`${info.file.name} file upload failed.`);\n        }\n      }\n    };\n    return (\n      <div>\n        <CollectionCreateForm\n          wrappedComponentRef={this.saveFormRef}\n          visible={this.state.visible}\n          onCancel={this.handleCancel}\n          onCreate={this.handleCreate}\n          lat={this.props.lat}\n          lng={this.props.lng}\n          imageProps={imageProps}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  shouldShowModal: state.shouldShowModal,\n  lat: state.latLngFromContext.lat,\n  lng: state.latLngFromContext.lng,\n  data: state.data\n});\n\nexport default connect(mapStateToProps)(MarkerModal);\n","import {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Label,\n  ResponsiveContainer\n} from \"recharts\";\nimport React, { Component } from \"react\";\nimport { setCustomDistanceMarker } from \"../redux/actions\";\nimport { findPointAlongLine } from \"./helpers/PathCalculator\";\nimport { connect } from \"react-redux\";\n\nclass ElevationChart extends Component {\n  drawMarker = event => {\n    if (event.activePayload)\n      this.props.dispatch(\n        setCustomDistanceMarker(event.activePayload[0].payload.coords)\n      );\n  };\n\n  wipeMarker = () => {\n    this.props.dispatch(setCustomDistanceMarker([]));\n  };\n\n  render() {\n    let roundData = point => {\n      return point.distance.toFixed(1);\n    };\n    return (\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          data={this.props.customPath.elevationChartData}\n          margin={{ top: 5, right: 20, left: 5, bottom: 12 }}\n          onMouseMove={e => this.drawMarker(e)}\n          onMouseLeave={this.wipeMarker}\n        >\n          <XAxis dataKey={roundData}>\n            <Label\n              value=\"Distance (km)\"\n              offset={-6}\n              position=\"insideBottom\"\n              className=\"x-axis\"\n            />\n          </XAxis>\n          <Tooltip\n            labelFormatter={name => \"distance: \" + name + \"km\"}\n            formatter={value => value + \"m\"}\n          />\n          />\n          <YAxis allowDecimals={false} dataKey=\"elevation\">\n            <Label\n              value=\"Elevation (meters)\"\n              angle={-90}\n              position=\"insideLeft\"\n              offset={10}\n              dy={60}\n              style={{ color: \"red\" }}\n              className=\"y-axis\"\n            />\n          </YAxis>\n          <Line\n            dot={false}\n            type=\"monotone\"\n            dataKey=\"elevation\"\n            stroke=\"#8884d8\"\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  customPath: state.customPath\n});\n\nexport default connect(mapStateToProps)(ElevationChart);\n","import React, { Component } from \"react\";\nimport connect from \"react-redux/es/connect/connect\";\nimport { Cascader } from \"antd\";\n\nexport class MapSelect extends Component {\n  onMapSelect = value => {\n    window.location.href = \"/maps/\" + value[1];\n  };\n\n  buildChildren = type => {\n    let children = [];\n    this.props.allMaps.map(map => {\n      if (map[type]) {\n        children.push({ value: map.map_alias, label: map.map_name });\n      }\n    });\n    return children;\n  };\n  render() {\n    const options = [\n      {\n        value: \"cycling\",\n        label: \"Cycling\",\n        children: this.buildChildren(\"cycling\")\n      },\n      {\n        value: \"walking\",\n        label: \"Bushwalking\",\n        children: this.buildChildren(\"walking\")\n      }\n    ];\n    return (\n      <Cascader\n        options={options}\n        className={\"map-select\"}\n        onChange={this.onMapSelect}\n        placeholder={\n          this.props.data.map_name\n            ? this.props.data.map_name +\n              \" | \" +\n              this.props.data.map_type.charAt(0).toUpperCase() +\n              this.props.data.map_type.slice(1)\n            : \"Please Select\"\n        }\n        size={\"large\"}\n        getPopupContainer={() =>\n          document.getElementsByClassName(this.props.parentNode)[0]\n        }\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  allMaps: state.allMaps\n});\n\nexport default connect(mapStateToProps)(MapSelect);\n","import React, { Component } from 'react'\nimport { Select } from 'antd'\nconst Option = Select.Option\n\nclass DistanceCalculator extends Component {\n  render() {\n    const { dataSource, onSelect, type, value, inputDirty, markerType } = this.props\n    const options = dataSource.map(poi => (\n      <Option key={poi.marker_id}>{poi.marker_title}</Option>\n    ));\n    return (\n      <div>\n        <Select\n          showSearch\n          mode={this.props.mode}\n          style={{ width: 200, marginBottom: 10 }}\n          onInputKeyDown={inputDirty}\n          placeholder={this.props.placeHolder}\n          filterOption={(inputValue, option) =>\n            option.props.children\n              .toUpperCase()\n              .indexOf(inputValue.toUpperCase()) !== -1\n          }\n          onSelect={e => {\n            onSelect(e, type, markerType)\n          }}\n          value={value ? value.marker_title : null}\n        >\n          {options}\n        </Select>\n      </div>\n    )\n  }\n}\n\nexport default DistanceCalculator\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Card, Divider, Icon, Switch, Tooltip } from \"antd\";\nimport DistanceCalculator from \"./DistanceCalculator\";\n\nclass DistanceCalculatorForm extends React.Component {\n  render() {\n    const {\n      dataSource,\n      dataSelect,\n      buttonDisabled,\n      submitDistance,\n      startPoint,\n      endPoint,\n      clearPath,\n      customPath\n    } = this.props;\n    return (\n      <div style={{ marginLeft: 48 }}>\n        <div>\n          <DistanceCalculator\n            placeHolder={\"Start point\"}\n            onSelect={dataSelect}\n            type={\"start\"}\n            dataSource={dataSource}\n            value={startPoint}\n            className=\"distance-calculator\"\n            markerType=\"distance\"\n          />\n          <DistanceCalculator\n            placeHolder={\"End point\"}\n            onSelect={dataSelect}\n            type={\"end\"}\n            dataSource={dataSource}\n            value={endPoint}\n            markerType=\"distance\"\n          />\n          {this.props.customDistance}\n          <Button\n            disabled={buttonDisabled}\n            icon=\"calculator\"\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n            onClick={submitDistance}\n          >\n            Calculate\n          </Button>\n          {customPath.path ? (\n            <Button\n              icon=\"delete\"\n              type=\"default\"\n              htmlType=\"submit\"\n              className=\"clear-path\"\n              onClick={clearPath}\n            >\n              Clear\n            </Button>\n          ) : null}\n        </div>\n        <Divider className=\"distance-divider\" />\n        <Card bordered={false} style={{ width: 250 }}>\n          <span>\n            Custom Path Creation\n            <Tooltip title=\"Click on the map to define a custom start and end point \">\n              <Icon\n                style={{ paddingLeft: 4, fontSize: 12 }}\n                type=\"question-circle\"\n              />\n            </Tooltip>\n            <Switch\n              size=\"small\"\n              style={{ marginLeft: 5 }}\n              checked={this.props.allowCustomPath}\n              onChange={this.props.toggleCustomPath}\n            />\n          </span>\n        </Card>\n        <Divider style={{ marginTop: 0 }} className=\"distance-divider\" />\n        {customPath.path ? (\n          <Card bordered={false} style={{ width: 250 }}>\n            <p>\n              <b> Distance: </b>\n              {customPath.distance.toFixed(2)}km\n            </p>\n            <p>\n              <b>Elevation Gain: </b>\n              {Math.round(customPath.elevationGain)}m\n            </p>\n            <p>\n              <b>Elevation Loss: </b> {Math.round(customPath.elevationLoss)}m\n            </p>\n          </Card>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  customPath: state.customPath,\n  allowCustomPath: state.allowCustomPath\n});\n\nexport default connect(mapStateToProps)(DistanceCalculatorForm);\n","import React, { Component } from \"react\";\nimport { Checkbox } from \"antd\";\nconst CheckboxGroup = Checkbox.Group;\n\nexport default class Filters extends Component {\n  render() {\n    const mapMarkerTypes = this.props.mapMarkerTypes;\n    return (\n      <CheckboxGroup\n        style={this.props.style}\n        options={mapMarkerTypes}\n        onChange={this.props.filterMarkers}\n        defaultValue={this.props.currentFilters}\n      />\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { mapStyles } from '../config'\nimport { Select } from 'antd'\n\nconst Option = Select.Option\n\nexport class TerrainSwitch extends Component {\n  render() {\n    const { terrain, terrainSwitch } = this.props\n    return (\n      <div>\n        <Select\n          style={this.props.style}\n          onChange={terrainSwitch}\n          defaultValue={terrain}\n          placeholder={terrain.pretty}\n        >\n          {mapStyles.map(layer => {\n            return <Option key={layer.key}> {layer.pretty} </Option>\n          })}\n        </Select>\n      </div>\n    )\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  allowCustomPath,\n  changeFocusPoint,\n  changeTerrain,\n  changeZoomLevel,\n  filterTrailMarkers,\n  setEndPoint,\n  setOpenMenus,\n  setStartPoint,\n  storeCustomTrack,\n  storeFocusMarker,\n  toggleLiveTrailUsers,\n  wipeEndMarker,\n  wipeMarkers,\n  wipeMarkersAndPath,\n  wipeStartMarker\n} from \"../redux/actions\";\nimport { Card, Divider, Icon, Menu, Switch, Tooltip, Button } from \"antd\";\nimport _ from \"lodash\";\nimport DistanceCalculator from \"./DistanceCalculator\";\nimport DistanceCalculatorForm from \"./DistanceCalculatorForm\";\nimport FilterMarkers from \"./Markers\";\nimport { TerrainSwitch } from \"./TerrainSwitch\";\nimport { findPath } from \"./helpers/PathCalculator\";\n\nexport const DISTANCE_KEY = \"distanceTab\";\n\nconst SubMenu = Menu.SubMenu;\n\nclass Sider extends React.Component {\n  dataSelect = (markerid, type, markerType) => {\n    let newFocus;\n    if (markerType === \"distance\") {\n      newFocus = this.props.poiMarkers.find(el => {\n        return el.marker_id === parseInt(markerid);\n      });\n    }\n    if (markerType === \"liveTrailUser\") {\n      newFocus = this.props.liveTrailUsers.find(el => {\n        return el.marker_id === parseInt(markerid);\n      });\n    }\n    if (type === \"locate\") {\n      this.props.dispatch(changeZoomLevel(13));\n      this.props.dispatch(\n        changeFocusPoint([newFocus.marker_lat, newFocus.marker_lng])\n      );\n      this.props.dispatch(storeFocusMarker(newFocus));\n    } else if (type === \"start\") {\n      this.props.dispatch(wipeStartMarker());\n      this.props.dispatch(setStartPoint(newFocus));\n    } else {\n      this.props.dispatch(wipeEndMarker());\n      this.props.dispatch(setEndPoint(newFocus));\n    }\n  };\n\n  submitDistance = e => {\n    e.preventDefault();\n    let pathAndDistance = this.calculateInfo();\n    this.props.dispatch(storeCustomTrack(pathAndDistance));\n  };\n\n  clearPath = e => {\n    e.preventDefault();\n    this.props.dispatch(wipeMarkersAndPath());\n  };\n\n  calculateInfo = () => {\n    //deals with custom route finding\n    let pathObj = [\n      {\n        start: {\n          marker_lat: this.props.startPoint.marker_lat,\n          marker_lng: this.props.startPoint.marker_lng\n        }\n      },\n      {\n        finish: {\n          marker_lat: this.props.endPoint.marker_lat,\n          marker_lng: this.props.endPoint.marker_lng\n        }\n      }\n    ];\n    let pathAndDistance = findPath(\n      this.props.data.map_track,\n      pathObj[0].start,\n      pathObj[1].finish\n    );\n    return pathAndDistance;\n  };\n\n  filterMarkers = markers => {\n    this.props.dispatch(filterTrailMarkers(markers));\n  };\n\n  terrainSwitch = value => {\n    this.props.dispatch(changeTerrain(value));\n  };\n\n  toggleCustomPath = bool => {\n    this.props.dispatch(wipeMarkers());\n    if (this.props.startPoint.marker_title === \"Custom Map Point\") {\n      this.props.dispatch(setStartPoint({}));\n    }\n    if (this.props.endPoint.marker_title === \"Custom Map Point\") {\n      this.props.dispatch(setEndPoint({}));\n    }\n    this.props.dispatch(allowCustomPath(bool));\n  };\n\n  toggleShowLiveTrailUsers = bool => {\n    this.props.dispatch(toggleLiveTrailUsers(bool));\n  };\n\n  isButtonDisabled = () => {\n    let startEmpty = _.isEmpty(this.props.startPoint);\n    let endEmpty = _.isEmpty(this.props.endPoint);\n    if (startEmpty || endEmpty) {\n      return true;\n    } else {\n      //both are not empty\n      return false;\n    }\n  };\n\n  handleMenuOpen = menuKeys => {\n    this.props.dispatch(setOpenMenus(menuKeys));\n  };\n\n  render() {\n    const {\n      data,\n      poiMarkers,\n      mapMarkerTypes,\n      sideBarImage,\n      sideBarBlurb,\n      terrain,\n      focusMarker,\n      filters,\n      openKeys,\n      liveTrailUsers\n    } = this.props;\n    return (\n      <Menu\n        className=\"overlayMenu\"\n        onOpenChange={this.handleMenuOpen}\n        style={{ width: 300, opacity: 0.9 }}\n        defaultOpenKeys={[\"menu\", \"sub6\"]}\n        openKeys={openKeys}\n        mode=\"inline\"\n      >\n        <SubMenu\n          key=\"menu\"\n          className=\"title\"\n          title={\n            <span>\n              <Icon\n                style={{ fontSize: \"1.4em\" }}\n                type=\"setting\"\n                theme=\"outlined\"\n                className=\"icons-large\"\n              />\n              <span id=\"map-tool-heading\"> Map Tools</span>\n            </span>\n          }\n        >\n          <Divider style={{ margin: 0 }} />\n          <SubMenu\n            style={{ paddingTop: 40 }}\n            key=\"sub1\"\n            title={\n              <span>\n                <Icon type=\"search\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\">Locate Point on Map</span>\n              </span>\n            }\n          >\n            <div style={{ marginLeft: 48 }}>\n              <DistanceCalculator\n                placeHolder={\"Point on map\"}\n                dataSource={poiMarkers}\n                type={\"locate\"}\n                onSelect={this.dataSelect}\n                value={focusMarker}\n                markerType={\"distance\"}\n              />\n            </div>\n          </SubMenu>\n          <SubMenu\n            key={DISTANCE_KEY}\n            title={\n              <span>\n                <Icon type=\"calculator\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\">Distance and Elevation</span>\n              </span>\n            }\n          >\n            <DistanceCalculatorForm\n              dataSource={poiMarkers}\n              dataSelect={this.dataSelect}\n              buttonDisabled={this.isButtonDisabled()}\n              submitDistance={this.submitDistance}\n              clearPath={this.clearPath}\n              toggleCustomPath={this.toggleCustomPath}\n            />\n          </SubMenu>\n          <SubMenu\n            key=\"sub3\"\n            title={\n              <span>\n                <Icon type=\"select\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\"> Filter Visible Markers</span>\n              </span>\n            }\n          >\n            <FilterMarkers\n              mapMarkerTypes={mapMarkerTypes}\n              filterMarkers={this.filterMarkers}\n              currentFilters={filters}\n              style={{ marginLeft: 48, width: 200 }}\n            />\n          </SubMenu>\n          <SubMenu\n            key=\"sub4\"\n            title={\n              <span>\n                <Icon type=\"user\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\"> Live Trail Users</span>\n              </span>\n            }\n          >\n            <div style={{ marginLeft: 48 }}>\n              <Card\n                className=\"filter-trail-users\"\n                bordered={false}\n                style={{ width: 250 }}\n              >\n                <span>\n                  Show all live trail users\n                  <Tooltip title=\"Find users with a registered SPOT or Garmin GPS device\">\n                    <Icon\n                      style={{ paddingLeft: 4, fontSize: 12 }}\n                      type=\"question-circle\"\n                    />\n                  </Tooltip>\n                  <Switch\n                    size=\"small\"\n                    style={{ marginLeft: 5 }}\n                    checked={this.props.showLiveTrailUsers}\n                    onChange={this.toggleShowLiveTrailUsers}\n                  />\n                </span>\n              </Card>\n              <DistanceCalculator\n                placeHolder={\"Find Trail User\"}\n                dataSource={liveTrailUsers}\n                type={\"locate\"}\n                onSelect={this.dataSelect}\n                value={_.has(focusMarker, \"gps_locations\") ? focusMarker : null}\n                markerType={\"liveTrailUser\"}\n              />\n              <Button\n                href={\"https://forms.gle/ajMvSzBzQg83XE5F7\"}\n                target={\"_blank\"}\n              >\n                Link a GPS Tracker\n              </Button>\n            </div>\n          </SubMenu>\n          <SubMenu\n            key=\"sub5\"\n            title={\n              <span>\n                <Icon type=\"picture\" theme=\"outlined\" className=\"sub-icon\" />\n                <span className=\"sub-heading\">Change Map Terrain</span>\n              </span>\n            }\n          >\n            <TerrainSwitch\n              terrain={terrain}\n              terrainSwitch={this.terrainSwitch}\n              style={{ marginLeft: 48, width: 200 }}\n            />\n          </SubMenu>\n          <SubMenu\n            key=\"sub6\"\n            title={\n              <span>\n                <Icon type=\"info-circle\" />\n                <span className=\"sub-heading\">Map & Marker Information</span>\n              </span>\n            }\n          >\n            <Card bordered={false} className=\"info-card\">\n              {!_.isEmpty(sideBarImage) &&\n              sideBarImage !== \"\" &&\n              sideBarImage != null ? (\n                <span>\n                  <img className=\"map-blurb-img\" src={sideBarImage} />\n                </span>\n              ) : null}\n              <Divider className=\"map-info-divider\" />\n              <p style={{ marginRight: 20 }}>\n                <b> Information: </b>\n                {_.isEmpty(focusMarker)\n                  ? sideBarBlurb\n                  : focusMarker.marker_blurb}\n              </p>\n              <p>\n                <Divider className=\"map-info-divider\" />\n                <div>\n                  {!_.isEmpty(data.map_stats) && _.isEmpty(focusMarker)\n                    ? data.map_stats.map(el => {\n                        return (\n                          <div>\n                            <b>{el.key}</b> : {el.value}\n                          </div>\n                        );\n                      })\n                    : null}\n                </div>\n              </p>\n            </Card>\n          </SubMenu>\n        </SubMenu>\n      </Menu>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  poiMarkers: state.poiMarkers,\n  mapMarkerTypes: state.mapMarkerTypes,\n  customPath: state.customPath,\n  terrain: state.terrain,\n  startPoint: state.startPoint,\n  endPoint: state.endPoint,\n  focusMarker: state.focusMarker,\n  filters: state.filters,\n  sideBarImage: state.sideBarImage,\n  sideBarBlurb: state.sideBarBlurb,\n  openKeys: state.openKeys,\n  showLiveTrailUsers: state.showLiveTrailUsers,\n  liveTrailUsers: state.liveTrailUsers,\n  focusTrailUser: state.focusTrailUser\n});\n\nexport default connect(mapStateToProps)(Sider);\n","import { Popover, Icon } from \"antd\";\nimport { Component } from \"react\";\nimport React from \"react\";\n\nexport class InfoPopover extends Component {\n  content = (\n    <div className=\"credits\">\n      <p>\n        Site Built By <a href=\"https://murrayw123.github.io\"> Murray Watts </a>\n      </p>\n      <br />\n      <p>\n        Found a bug? Want to tell me the site sucks? Got a trail that you think\n        should be added? Get in touch{\" \"}\n        <a href=\"https://murrayw123.github.io/contact.html\"> here </a>\n      </p>\n      <br />\n      <p className=\"attribute-info\">\n        Icons made by Icon Pond, Smashicons and Freepik from www.flaticon.com is\n        licensed by CC 3.0 BY\n      </p>\n    </div>\n  );\n\n  render() {\n    return (\n      <div className={\"info-icon\"}>\n        <Popover\n          content={this.content}\n          title=\"Credits and Information\"\n          placement=\"topRight\"\n          trigger=\"click\"\n        >\n          <Icon type=\"info-circle\" theme=\"filled\" />\n        </Popover>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport MapComponent from \"./MapComponent\";\nimport MarkerModal from \"./Modal\";\nimport ElevationChart from \"./ElevationChart\";\nimport MapSelect from \"./MapSelect\";\nimport {\n  fetchData,\n  fetchMarkers,\n  fetchOtherMaps,\n  fetchTrailUsers\n} from \"../redux/actions\";\nimport { Rnd as ElevationChartWrapper } from \"react-rnd\";\nimport { Button, Icon } from \"antd\";\nimport Sider from \"./Menu.js\";\nimport { InfoPopover } from \"./InfoPopover\";\n\nclass MapParent extends Component {\n  state = { width: \"40%\", height: 125, showElevation: true };\n\n  componentDidMount() {\n    let currentMap = window.location.pathname.substring(6);\n    this.props.dispatch(fetchData(currentMap));\n    this.props.dispatch(fetchMarkers(currentMap));\n    this.props.dispatch(fetchOtherMaps());\n    this.props.dispatch(fetchTrailUsers(currentMap));\n    this.interval = setInterval(\n      () => this.props.dispatch(fetchTrailUsers(currentMap)),\n      20000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  elevationChartStatus = state => {\n    this.setState({ showElevation: state });\n  };\n\n  render() {\n    const {\n      loadingTrack,\n      loadingMarkers,\n      customPath,\n      shouldShowModal\n    } = this.props;\n    const { showElevation } = this.state;\n    if (loadingTrack || loadingMarkers) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div className=\"map\">\n          <MapSelect parentNode={\"map\"} />\n          <MapComponent />\n          {shouldShowModal ? <MarkerModal /> : null}\n          <Sider />\n          {!_.isEmpty(customPath) &&\n          showElevation === true &&\n          customPath.distance > 0 ? (\n            <ElevationChartWrapper\n              className=\"elevation-chart\"\n              size={{ width: this.state.width, height: this.state.height }}\n              onResize={(e, direction, ref, delta, position) => {\n                this.setState({\n                  width: ref.style.width,\n                  height: ref.style.height,\n                  ...position\n                });\n              }}\n            >\n              <ElevationChart />\n              <Icon\n                className=\"minimise-chart\"\n                type=\"down-circle\"\n                onClick={() => {\n                  this.elevationChartStatus(false);\n                }}\n              />\n            </ElevationChartWrapper>\n          ) : !_.isEmpty(customPath) && customPath.distance > 0 ? (\n            <Button\n              className=\"show-elevation\"\n              type=\"primary\"\n              size=\"small\"\n              onClick={() => {\n                this.elevationChartStatus(true);\n              }}\n            >\n              <span>\n                Show Elevation\n                <Icon className=\"minimise-chart\" type=\"up-circle\" />\n              </span>\n            </Button>\n          ) : null}\n          <InfoPopover />\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => ({\n  data: state.data,\n  loadingTrack: state.loadingTrack,\n  loadingMarkers: state.loadingMarkers,\n  filters: state.filters,\n  poiMarkers: state.poiMarkers,\n  customPath: state.customPath,\n  elevationChartData: state.elevationChartData,\n  shouldShowModal: state.shouldShowModal\n});\n\nexport default connect(mapStateToProps)(MapParent);\n","import React, { Component } from \"react\";\n\nexport class NotFound extends Component {\n    render() {\n        return (\n            <h3>Page Not Found</h3>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport MapSelect from \"./MapSelect\";\nimport { fetchOtherMaps } from \"../redux/actions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nexport class LandingPage extends Component {\n  componentDidMount() {\n    this.props.dispatch(fetchOtherMaps());\n  }\n\n  render() {\n    return (\n      <div className=\"landing-page\">\n        <div className=\"map-switcher-block\">\n          <h1> Trail Maps </h1>\n          <div className=\"map-switcher-div\">\n            <MapSelect\n              placeholder={\"Select a Map\"}\n              parentNode={\"map-switcher-block\"}\n            />\n          </div>\n\n          <div className=\"disclaimer\">\n            <p className=\"title\">\n              Interactive Bushwalking and Bikepacking maps. View distance,\n              elevation, towns and campsites + more!\n            </p>\n            <p>\n              <b> Disclaimer:</b> Trailmaps is not intended for navigation\n              purposes and should be used for route planning only. Trailmaps\n              relies on third party track files which may contain errors. No\n              responsibility is accepted for personal injury or property damage\n              from your reliance on any of the information contained on this\n              site.\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect()(LandingPage);\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport MapParent from \"./MapParent\";\nimport { NotFound } from \"./404\";\nimport LandingPage from \"./LandingPage\";\n\nexport class RouteSwitcher extends Component {\n  onMapSelect = () => {\n    window.location.href = \"/maps/mundabiddi\";\n  };\n\n  render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n        <Route exact path=\"/mundabiddi\" component={this.onMapSelect} />\n        <Route path=\"/maps/\" component={MapParent} />\n        <Route component={NotFound} />\n      </Switch>\n    );\n  }\n}\n","import React, {Component} from \"react\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {RouteSwitcher} from \"./RouteSwitcher\";\n\nexport default class Router extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <RouteSwitcher />\n      </BrowserRouter>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport dataReducer from \"./redux/reducers\";\nimport thunk from \"redux-thunk\";\nimport Router from \"./components/Router\";\nimport \"../node_modules/antd/dist/antd.css\";\nimport \"./css/App.css\";\nimport \"./css/Menu.css\";\nimport \"./css/MapComponent.css\";\nimport \"./css/Chart.css\";\nimport \"./css/LandingPage.css\";\nimport \"./css/MapSwitcher.css\";\nimport \"./css/context-menu.css\";\nimport \"./css/marker-modal.css\";\n\nconst store = createStore(dataReducer, applyMiddleware(thunk));\nReactDOM.render(\n  <Provider store={store}>\n    <Router />\n  </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}